<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 8.1.1">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"blog.zhaolq.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.25.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"always","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"androidstudio","dark":"androidstudio"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":true,"style":"mac"},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.json","localsearch":{"enable":true,"top_n_per_article":1,"unescape":true,"preload":false}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="推荐链接：   Git Book - 中文 、 Git Book - 英文   Git 教程 - 菜鸟   Git 易百教程   https:&#x2F;&#x2F;docs.github.com&#x2F;cn   https:&#x2F;&#x2F;docs.github.com&#x2F;en  常用命令速查表 实战彻底清除所有历史提交记录1234567891011121314# 创建新分支git checkout --orphan latest_b">
<meta property="og:type" content="article">
<meta property="og:title" content="Git教程">
<meta property="og:url" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/index.html">
<meta property="og:site_name" content="洋蔥">
<meta property="og:description" content="推荐链接：   Git Book - 中文 、 Git Book - 英文   Git 教程 - 菜鸟   Git 易百教程   https:&#x2F;&#x2F;docs.github.com&#x2F;cn   https:&#x2F;&#x2F;docs.github.com&#x2F;en  常用命令速查表 实战彻底清除所有历史提交记录1234567891011121314# 创建新分支git checkout --orphan latest_b">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/image-20250113150521663.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/1570249691811.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/1570250254124.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/1570250520308.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/683090701_88630.jpg">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/919150744_33189.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/480150745_86943.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/1570006941653.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/1570007053925.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/1570006354885.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/1570006778565.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/1570029346639.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/1570029716814.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/1570033381991.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/1570013913033.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/1570014491047.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/1570015299841.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/1570016354293.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/1570181890623.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/1570186370679.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/1570187084121.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/1570188057429.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/1570188295589.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/1570087237329.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/1570087618207.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/1570087727377.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/1570088832319.png">
<meta property="og:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/1570090003755.png">
<meta property="article:published_time" content="2019-10-02T05:46:58.000Z">
<meta property="article:modified_time" content="2019-10-02T05:46:58.000Z">
<meta property="article:author" content="zhaolq">
<meta property="article:tag" content="Git">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/image-20250113150521663.png">


<link rel="canonical" href="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/","path":"article/2019/10/Git教程/","title":"Git教程"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Git教程 | 洋蔥</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.5.0/search.js" integrity="sha256-xFC6PJ82SL9b3WkGjFavNiA9gm5z6UBxWPiu4CYjptg=" crossorigin="anonymous" defer></script>
<script src="/js/third-party/search/local-search.js" defer></script>




  <script src="/js/third-party/fancybox.js" defer></script>



  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">洋蔥</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">耳不闻人是非，目不视人之短，口不言人之过。</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5%E8%A1%A8"><span class="nav-number">1.</span> <span class="nav-text">常用命令速查表</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%9E%E6%88%98"><span class="nav-number">2.</span> <span class="nav-text">实战</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BD%BB%E5%BA%95%E6%B8%85%E9%99%A4%E6%89%80%E6%9C%89%E5%8E%86%E5%8F%B2%E6%8F%90%E4%BA%A4%E8%AE%B0%E5%BD%95"><span class="nav-number">2.1.</span> <span class="nav-text">彻底清除所有历史提交记录</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F-VCS"><span class="nav-number">3.</span> <span class="nav-text">版本控制系统(VCS)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%AC%E5%9C%B0%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F"><span class="nav-number">3.1.</span> <span class="nav-text">本地版本控制系统</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9B%86%E4%B8%AD%E5%8C%96%E7%9A%84%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F"><span class="nav-number">3.2.</span> <span class="nav-text">集中化的版本控制系统</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F"><span class="nav-number">3.3.</span> <span class="nav-text">分布式版本控制系统</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Git-%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5"><span class="nav-number">4.</span> <span class="nav-text">Git 基础概念</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-%E5%88%9D%E6%9C%9F%E8%AE%BE%E5%AE%9A%E7%9A%84%E7%9B%AE%E6%A0%87"><span class="nav-number">4.1.</span> <span class="nav-text">Git 初期设定的目标</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-n%E4%B8%AA%E5%8C%BA%E5%9F%9F"><span class="nav-number">4.2.</span> <span class="nav-text">3+n个区域</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E7%A7%8D%E7%8A%B6%E6%80%81"><span class="nav-number">4.3.</span> <span class="nav-text">3 种状态</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%B4%E6%8E%A5%E8%AE%B0%E5%BD%95%E5%BF%AB%E7%85%A7%EF%BC%8C%E8%80%8C%E9%9D%9E%E5%B7%AE%E5%BC%82%E6%AF%94%E8%BE%83"><span class="nav-number">4.4.</span> <span class="nav-text">直接记录快照，而非差异比较</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%91%E4%B9%8E%E6%89%80%E6%9C%89%E6%93%8D%E4%BD%9C%E9%83%BD%E6%98%AF%E6%9C%AC%E5%9C%B0%E6%89%A7%E8%A1%8C"><span class="nav-number">4.5.</span> <span class="nav-text">近乎所有操作都是本地执行</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-%E4%BF%9D%E8%AF%81%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="nav-number">4.6.</span> <span class="nav-text">Git 保证完整性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-%E4%B8%80%E8%88%AC%E5%8F%AA%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE"><span class="nav-number">4.7.</span> <span class="nav-text">Git 一般只添加数据</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Git-%E5%B7%A5%E4%BD%9C%E6%B5%81"><span class="nav-number">5.</span> <span class="nav-text">Git 工作流</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Git-%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE"><span class="nav-number">6.</span> <span class="nav-text">Git 安装配置</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Git-%E6%9B%B4%E6%96%B0"><span class="nav-number">7.</span> <span class="nav-text">Git 更新</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Git-%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86"><span class="nav-number">8.</span> <span class="nav-text">Git 配置代理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A3%E7%90%86-HTTP-%E5%8D%8F%E8%AE%AE"><span class="nav-number">8.1.</span> <span class="nav-text">代理 HTTP 协议</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A3%E7%90%86-SSH-%E5%8D%8F%E8%AE%AE"><span class="nav-number">8.2.</span> <span class="nav-text">代理 SSH 协议</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SSH-%E5%92%8C-OpenSSH"><span class="nav-number">8.2.1.</span> <span class="nav-text">SSH 和 OpenSSH</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A2%AB%E5%A2%99"><span class="nav-number">8.2.2.</span> <span class="nav-text">被墙</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ProxyCommand"><span class="nav-number">8.2.3.</span> <span class="nav-text">ProxyCommand</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ncat"><span class="nav-number">8.2.4.</span> <span class="nav-text">ncat</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B1%80%E9%83%A8%E4%BB%A3%E7%90%86"><span class="nav-number">8.2.5.</span> <span class="nav-text">局部代理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%A8%E5%B1%80%E4%BB%A3%E7%90%86"><span class="nav-number">8.2.6.</span> <span class="nav-text">全局代理</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9C%AC%E5%9C%B0%E4%BF%9D%E5%AD%98%E5%B8%90%E5%8F%B7%E5%AF%86%E7%A0%81"><span class="nav-number">9.</span> <span class="nav-text">本地保存帐号密码</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Git-%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="nav-number">10.</span> <span class="nav-text">Git 基本操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#git-config"><span class="nav-number">10.1.</span> <span class="nav-text">git config</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%E5%AD%98%E5%82%A8%E4%BD%8D%E7%BD%AE"><span class="nav-number">10.1.1.</span> <span class="nav-text">配置文件的存储位置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E7%94%A8%E6%88%B7%E5%90%8D%E5%92%8C%E9%82%AE%E7%AE%B1"><span class="nav-number">10.1.2.</span> <span class="nav-text">配置用户名和邮箱</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E7%BC%96%E7%BC%89%E5%99%A8"><span class="nav-number">10.1.3.</span> <span class="nav-text">配置编缉器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%AF%94%E8%BE%83%E5%B7%A5%E5%85%B7"><span class="nav-number">10.1.4.</span> <span class="nav-text">配置比较工具</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A3%80%E6%9F%A5%E9%85%8D%E7%BD%AE"><span class="nav-number">10.1.5.</span> <span class="nav-text">检查配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0-%E5%88%A0%E9%99%A4%E9%85%8D%E7%BD%AE%E9%A1%B9"><span class="nav-number">10.1.6.</span> <span class="nav-text">添加&#x2F;删除配置项</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E9%85%8D%E7%BD%AE%E9%A1%B9"><span class="nav-number">10.1.6.1.</span> <span class="nav-text">添加配置项</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E9%85%8D%E7%BD%AE%E9%A1%B9"><span class="nav-number">10.1.6.2.</span> <span class="nav-text">删除配置项</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-help"><span class="nav-number">10.2.</span> <span class="nav-text">git help</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-init"><span class="nav-number">10.3.</span> <span class="nav-text">git init</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-clone"><span class="nav-number">10.4.</span> <span class="nav-text">git clone</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-add"><span class="nav-number">10.5.</span> <span class="nav-text">git add</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-status"><span class="nav-number">10.6.</span> <span class="nav-text">git status</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-diff"><span class="nav-number">10.7.</span> <span class="nav-text">git diff</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF1"><span class="nav-number">10.7.1.</span> <span class="nav-text">应用场景1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF2"><span class="nav-number">10.7.2.</span> <span class="nav-text">应用场景2</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-commit"><span class="nav-number">10.8.</span> <span class="nav-text">git commit</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-reset-HEAD"><span class="nav-number">10.9.</span> <span class="nav-text">git reset HEAD</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-stash"><span class="nav-number">10.10.</span> <span class="nav-text">git stash</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-rebase"><span class="nav-number">10.11.</span> <span class="nav-text">git rebase</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-cherry-pick"><span class="nav-number">10.12.</span> <span class="nav-text">git cherry-pick</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-rm"><span class="nav-number">10.13.</span> <span class="nav-text">git rm</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-mv"><span class="nav-number">10.14.</span> <span class="nav-text">git mv</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Git-%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86"><span class="nav-number">11.</span> <span class="nav-text">Git 分支管理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%97%E5%87%BA%E5%88%86%E6%94%AF"><span class="nav-number">11.1.</span> <span class="nav-text">列出分支</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E5%88%86%E6%94%AF"><span class="nav-number">11.2.</span> <span class="nav-text">创建分支</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%87%E6%8D%A2%E5%88%86%E6%94%AF"><span class="nav-number">11.3.</span> <span class="nav-text">切换分支</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E5%88%86%E6%94%AF-%E5%88%87%E6%8D%A2"><span class="nav-number">11.4.</span> <span class="nav-text">创建分支+切换</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E5%88%86%E6%94%AF"><span class="nav-number">11.5.</span> <span class="nav-text">删除分支</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E6%9C%AC%E5%9C%B0%E5%88%86%E6%94%AF"><span class="nav-number">11.5.1.</span> <span class="nav-text">删除本地分支</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF"><span class="nav-number">11.5.2.</span> <span class="nav-text">删除远程分支</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E6%94%AF%E5%90%88%E5%B9%B6"><span class="nav-number">11.6.</span> <span class="nav-text">分支合并</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%88%E5%B9%B6%E5%86%B2%E7%AA%81"><span class="nav-number">11.7.</span> <span class="nav-text">合并冲突</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Git-%E6%9F%A5%E7%9C%8B%E6%8F%90%E4%BA%A4%E5%8E%86%E5%8F%B2"><span class="nav-number">12.</span> <span class="nav-text">Git 查看提交历史</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Git-%E6%A0%87%E7%AD%BE"><span class="nav-number">13.</span> <span class="nav-text">Git 标签</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%97%E6%98%BE%E6%A0%87%E7%AD%BE"><span class="nav-number">13.1.</span> <span class="nav-text">列显标签</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E6%A0%87%E7%AD%BE"><span class="nav-number">13.2.</span> <span class="nav-text">创建标签</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BD%BB%E9%87%8F%E7%BA%A7%E6%A0%87%E7%AD%BE"><span class="nav-number">13.2.1.</span> <span class="nav-text">轻量级标签</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%AB%E9%99%84%E6%B3%A8%E6%A0%87%E7%AD%BE"><span class="nav-number">13.2.2.</span> <span class="nav-text">含附注标签</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E6%A0%87%E7%AD%BE"><span class="nav-number">13.3.</span> <span class="nav-text">查看标签</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E6%A0%87%E7%AD%BE"><span class="nav-number">13.4.</span> <span class="nav-text">删除标签</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AD%BE%E7%BD%B2%E6%A0%87%E7%AD%BE"><span class="nav-number">13.5.</span> <span class="nav-text">签署标签</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%AA%8C%E8%AF%81%E6%A0%87%E7%AD%BE"><span class="nav-number">13.6.</span> <span class="nav-text">验证标签</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%8E%E6%9C%9F%E5%8A%A0%E6%B3%A8%E6%A0%87%E7%AD%BE"><span class="nav-number">13.7.</span> <span class="nav-text">后期加注标签</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E4%BA%AB%E6%A0%87%E7%AD%BE"><span class="nav-number">13.8.</span> <span class="nav-text">分享标签</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Git-%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93-Github"><span class="nav-number">14.</span> <span class="nav-text">Git 远程仓库(Github)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%9A%84-Git-%E5%8D%8F%E8%AE%AE"><span class="nav-number">14.1.</span> <span class="nav-text">服务器上的 Git - 协议</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AESSH%E5%AF%86%E9%92%A5"><span class="nav-number">14.2.</span> <span class="nav-text">配置SSH密钥</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%95%E4%B8%AAGit%E5%B8%90%E5%8F%B7%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="nav-number">14.2.1.</span> <span class="nav-text">单个Git帐号的配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E4%B8%AAGit%E5%B8%90%E5%8F%B7%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="nav-number">14.2.2.</span> <span class="nav-text">多个Git帐号的配置</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E7%94%A8%E6%88%B7%E5%90%8D%E5%92%8C%E9%82%AE%E7%AE%B1-1"><span class="nav-number">14.3.</span> <span class="nav-text">配置用户名和邮箱</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E4%BB%93%E5%BA%93"><span class="nav-number">14.4.</span> <span class="nav-text">创建仓库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A3%80%E5%87%BA%E4%BB%93%E5%BA%93"><span class="nav-number">14.5.</span> <span class="nav-text">检出仓库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E8%BF%9C%E7%A8%8B%E5%BA%93"><span class="nav-number">14.6.</span> <span class="nav-text">添加远程库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E8%BF%9C%E7%A8%8B%E5%BA%93"><span class="nav-number">14.7.</span> <span class="nav-text">查看远程库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9B%B4%E6%96%B0%E5%B9%B6%E5%90%88%E5%B9%B6"><span class="nav-number">14.8.</span> <span class="nav-text">更新并合并</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#git-fetch-git-merge"><span class="nav-number">14.8.1.</span> <span class="nav-text">git fetch + git merge</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Git-%E5%88%86%E6%94%AF-%E5%8F%98%E5%9F%BA-Merge-%E4%B8%8E-Rebase"><span class="nav-number">14.8.2.</span> <span class="nav-text">Git 分支 - 变基 (Merge 与 Rebase)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git-pull"><span class="nav-number">14.8.3.</span> <span class="nav-text">git pull</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A1%A5%E5%85%85%EF%BC%9A"><span class="nav-number">14.8.3.1.</span> <span class="nav-text">补充：</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%98%E5%8E%9F-%E5%9B%9E%E9%80%80-%E6%92%A4%E9%94%80"><span class="nav-number">14.9.</span> <span class="nav-text">还原&#x2F;回退&#x2F;撤销</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B7%A5%E4%BD%9C%E5%8C%BA"><span class="nav-number">14.9.1.</span> <span class="nav-text">工作区</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%AC%E5%9C%B0"><span class="nav-number">14.9.2.</span> <span class="nav-text">本地</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%A8%E9%80%81%E5%88%B0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="nav-number">14.10.</span> <span class="nav-text">推送到远程仓库</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A5%E5%85%85%EF%BC%9A-1"><span class="nav-number">14.10.1.</span> <span class="nav-text">补充：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="nav-number">14.11.</span> <span class="nav-text">删除远程仓库</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%9A%84-Git"><span class="nav-number">15.</span> <span class="nav-text">服务器上的 Git</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9C%A8%E5%85%B6%E5%AE%83%E7%8E%AF%E5%A2%83%E4%B8%AD%E4%BD%BF%E7%94%A8-Git"><span class="nav-number">16.</span> <span class="nav-text">在其它环境中使用 Git</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="zhaolq"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">zhaolq</p>
  <div class="site-description" itemprop="description">有用、有趣、有情义！</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">555</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">39</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">39</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/hellozhaolq" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;hellozhaolq" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:hello.zhaolq@qq.com" title="E-Mail → mailto:hello.zhaolq@qq.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.zhaolq.com/article/2019/10/Git%E6%95%99%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhaolq">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="洋蔥">
      <meta itemprop="description" content="有用、有趣、有情义！">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Git教程 | 洋蔥">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Git教程
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-10-02 13:46:58" itemprop="dateCreated datePublished" datetime="2019-10-02T13:46:58+08:00">2019-10-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Version-Control/" itemprop="url" rel="index"><span itemprop="name">Version Control</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p><font color="blue">推荐链接：</font> </p>
<p> <a target="_blank" rel="noopener" href="https://git-scm.com/book/zh">Git Book - 中文</a> 、 <a target="_blank" rel="noopener" href="https://git-scm.com/book/en">Git Book - 英文</a> </p>
<p> <a target="_blank" rel="noopener" href="https://www.runoob.com/git/git-tutorial.html">Git 教程 - 菜鸟</a> </p>
<p> <a target="_blank" rel="noopener" href="https://www.yiibai.com/git/">Git 易百教程</a> </p>
<p> <a target="_blank" rel="noopener" href="https://docs.github.com/cn">https://docs.github.com/cn</a> </p>
<p> <a target="_blank" rel="noopener" href="https://docs.github.com/en">https://docs.github.com/en</a> </p>
<h1 id="常用命令速查表"><a href="#常用命令速查表" class="headerlink" title="常用命令速查表"></a>常用命令速查表</h1><p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/image-20250113150521663.png" alt="image-20250113150521663"></p>
<h1 id="实战"><a href="#实战" class="headerlink" title="实战"></a>实战</h1><h2 id="彻底清除所有历史提交记录"><a href="#彻底清除所有历史提交记录" class="headerlink" title="彻底清除所有历史提交记录"></a>彻底清除所有历史提交记录</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建新分支</span></span><br><span class="line">git checkout --orphan latest_branch</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加所有文件</span></span><br><span class="line">git add .</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">commit代码</span></span><br><span class="line">git commit -m &quot;update&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除原来的主分支</span></span><br><span class="line">git branch -D main</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">把当前分支重命名为主分支</span></span><br><span class="line">git branch -m main</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">最后把代码推送到远程仓库</span></span><br><span class="line">git push -f origin main</span><br><span class="line">git pull</span><br><span class="line">git pull --rebase</span><br></pre></td></tr></table></figure>

<p>确定清除历史记录的结果</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1、查看提交日志</span></span><br><span class="line">git log --pretty=oneline</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2、查看分支信息</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">列出所有本地分支</span></span><br><span class="line">git branch</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">列出所有远程分支</span></span><br><span class="line">git branch -r</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">列出所有本地分支和远程分支</span></span><br><span class="line">git branch -a</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3、查看 tag 信息</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看本地标签</span></span><br><span class="line">git tag</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看远程标签</span></span><br><span class="line">git ls-remote --tags</span><br></pre></td></tr></table></figure>


<p>最后，登录远程仓库再次确认。</p>
<h1 id="版本控制系统-VCS"><a href="#版本控制系统-VCS" class="headerlink" title="版本控制系统(VCS)"></a>版本控制系统(VCS)</h1><p> <a target="_blank" rel="noopener" href="https://git-scm.com/book/zh/v2/%E8%B5%B7%E6%AD%A5-%E5%85%B3%E4%BA%8E%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6">关于版本控制</a> </p>
<h2 id="本地版本控制系统"><a href="#本地版本控制系统" class="headerlink" title="本地版本控制系统"></a>本地版本控制系统</h2><p>最流行的一种叫做 RCS，现今许多计算机系统上都还看得到它的踪影。</p>
<p>RCS 工作原理：在硬盘上保存补丁集(补丁是指文件修订前后的变化)；通过应用所有的补丁，可以重新计算出各个版本的文件内容。</p>
<span id="more"></span>

<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/1570249691811.png" alt="1570249691811"></p>
<p><strong>缺点：</strong></p>
<p>​	无法让不同系统上的开发者协同工作。</p>
<p>​	整个项目的变更历史被保存在单一位置，有丢失所有历史更新记录的风险。例如：磁盘损坏。</p>
<h2 id="集中化的版本控制系统"><a href="#集中化的版本控制系统" class="headerlink" title="集中化的版本控制系统"></a>集中化的版本控制系统</h2><p>Centralized Version Control Systems，简称 CVCS。</p>
<p>这类系统，诸如 CVS、Subversion(SVN) 、 Perforce 等，都有一个<strong>单一的集中管理的服务器</strong>保存所有文件的修订版本，而协同工作的人们都通过客户端连到这台服务器，取出最新的文件或者提交更新。多年以来，这已成为版本控制系统的标准做法。</p>
<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/1570250254124.png" alt="1570250254124"></p>
<p><strong>优点：</strong></p>
<p>​	个人都可以在一定程度上看到项目中的其他人正在做些什么。</p>
<p>​	管理员可以轻松掌控每个开发者的权限。</p>
<p>​	管理员只需管理这个集中服务器，而不需要在各个客户端上维护本地数据库。</p>
<p><strong>缺点：</strong></p>
<p>​	如果中央服务器出现单点故障，那么谁都无法提交更新，也就无法协同工作。</p>
<p>​	整个项目的变更历史被保存在单一位置，有丢失所有历史更新记录的风险。如果中心数据库所在的磁盘发生损坏，又没有做恰当备份，毫无疑问将丢失所有数据，只剩下各自机器上保留的单独快照。</p>
<h2 id="分布式版本控制系统"><a href="#分布式版本控制系统" class="headerlink" title="分布式版本控制系统"></a>分布式版本控制系统</h2><p>Distributed Version Control System，简称 DVCS</p>
<p>这类系统，像 Git、Mercurial、Bazaar、Darcs 等，客户端并不只提取最新版本的文件快照，而是把代码仓库完整地镜像下来。</p>
<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/1570250520308.png" alt="1570250520308"></p>
<p><strong>优点：</strong></p>
<p>​	任何一处协同工作用的服务器发生故障，都可以用任何一个镜像出来的本地仓库恢复。 因为每一次的克隆操作，实际上都是一次对代码仓库的完整备份。</p>
<p>​	可以指定和若干不同的远端代码仓库进行交互，也就是说，可以在同一个项目中，分别和不同工作小组的人相互协作</p>
<p>​	可以根据需要设定不同的协作流程，比如层次模型式的工作流</p>
<h1 id="Git-基础概念"><a href="#Git-基础概念" class="headerlink" title="Git 基础概念"></a>Git 基础概念</h1><h2 id="Git-初期设定的目标"><a href="#Git-初期设定的目标" class="headerlink" title="Git 初期设定的目标"></a>Git 初期设定的目标</h2><ul>
<li>速度很快</li>
<li>设计简单</li>
<li>对非线性开发模式的强力支持(允许成千上万个并行开发的分支)</li>
<li>完全分布式</li>
<li>有能力高效管理类似 Linux 内核一样的超大规模项目(速度和数据量)</li>
</ul>
<h2 id="3-n个区域"><a href="#3-n个区域" class="headerlink" title="3+n个区域"></a>3+n个区域</h2><p>三个本地区域 + n个远程区域：</p>
<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/683090701_88630.jpg" alt="683090701_88630"></p>
<p><strong>Workspace</strong>：工作区<br><strong>Index&#x2F;Stage</strong>：暂存区、索引(文件内容的哈希值)<br><strong>Repository</strong>：仓库区、本地仓库、存储库、Git仓库<br><strong>Remote</strong>：远程仓库</p>
<p><font color="blue"><strong>名词解释：</strong></font></p>
<p><strong>工作区</strong> : 对项目的某个版本独立提取出来的内容。这些从 Git 仓库的压缩数据库中提取出来的文件，放在磁盘上供你使用或修改。通过 <code>git init</code> 创建的代码库的所有文件但是不包括 <code>.git</code> 文件(<strong>版本库&#x3D;暂存区+Git仓库</strong>)。<br><strong>暂存区</strong> : 一个文件，保存了下次将提交的文件列表信息，一般在 <code>.git</code> 目录，。通过 <code>git add ./*/*Xxx/Xxxx*</code> 添加的修改，都是进入到暂存区了，肉眼不可见 通过 <code>git status</code> 可以看到修改的状态。</p>
<p><strong>Git仓库</strong> : Git 用来保存项目的元数据和对象数据库的地方。从其它计算机克隆仓库时，拷贝的就是这里的数据。</p>
<h2 id="3-种状态"><a href="#3-种状态" class="headerlink" title="3 种状态"></a>3 种状态</h2><p><strong>文件的三种状态：</strong></p>
<ul>
<li>已修改(modified)：做了修改但还没有放到暂存区域</li>
<li>已暂存(staged)：做了修改并已放入暂存区域</li>
<li>已提交(committed)：Git 仓库中保存着的特定版本文件</li>
</ul>
<p>什么是修改：新增一行、删除一行、更改某些字符、删一些又加一些、创建一个新文件。</p>
<p><strong>基本的 Git 工作流程：</strong></p>
<ul>
<li>在工作区添加或修改文件（已修改）</li>
<li>暂存文件，将文件的快照放入暂存区域（已暂存）</li>
<li>提交更新，找到暂存区域的文件，将快照永久性存储到 Git 仓库（已提交）</li>
</ul>
<h2 id="直接记录快照，而非差异比较"><a href="#直接记录快照，而非差异比较" class="headerlink" title="直接记录快照，而非差异比较"></a>直接记录快照，而非差异比较</h2><p>Git 和其它版本控制系统(包括 Subversion 和近似工具)的主要差别在于 Git 对待数据的方法。 概念上来区分，其它大部分系统以文件变更列表的方式存储信息。 这类系统(CVS、Subversion、Perforce、Bazaar 等等)将它们保存的信息看作是一组基本文件和每个文件随时间逐步累积的差异。存储每个文件与初始版本的差异，如下图所示：</p>
<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/919150744_33189.png" alt="919150744_33189"></p>
<p>Git 不按照以上方式对待或保存数据。 反之，Git 更像是把数据看作是对小型文件系统的一组快照。 每次你提交更新，或在 Git 中保存项目状态时，它主要对当时的全部文件制作一个快照并保存这个快照的索引。 为了高效，如果文件没有修改，Git 不再重新存储该文件，而是只保留一个链接指向之前存储的文件。 Git 对待数据更像是一个 <em>快照流</em>。如下图所示：</p>
<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/480150745_86943.png" alt="480150745_86943"></p>
<p>这是 Git 与几乎所有其它版本控制系统的重要区别。</p>
<p>Git 更像是一个小型的文件系统，提供了许多以此为基础构建的超强工具，而不只是一个简单的 VCS。 </p>
<h2 id="近乎所有操作都是本地执行"><a href="#近乎所有操作都是本地执行" class="headerlink" title="近乎所有操作都是本地执行"></a>近乎所有操作都是本地执行</h2><p>在 Git 中的绝大多数操作都只需要访问本地文件和资源，这意味着在离线或者没有 VPN 时，几乎可以进行任何操作。因为本地磁盘上就有项目的完整历史，所以大部分操作看起来瞬间完成。</p>
<h2 id="Git-保证完整性"><a href="#Git-保证完整性" class="headerlink" title="Git 保证完整性"></a>Git 保证完整性</h2><p>Git 中所有数据在存储前都计算校验和，然后以校验和来引用。 这意味着不可能在 Git 不知情时更改任何文件内容或目录内容。 这个功能建构在 Git 底层，是构成 Git 哲学不可或缺的部分。 若你在传送过程中丢失信息或损坏文件，Git 就能发现。</p>
<p>Git 用以计算校验和的机制叫做 SHA-1 散列(hash，哈希)。 这是一个由 40 个十六进制字符 (0-9 和 a-f) 组成字符串，基于 Git 中文件的内容或目录结构计算出来。 SHA-1 哈希看起来是这样：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">80e7c5b72de33d7faee6dcf43a0aaca1e236d638</span><br></pre></td></tr></table></figure>

<p>Git 中使用这种哈希值的情况很多，你将经常看到这种哈希值。 实际上，Git 数据库中保存的信息都是以文件内容的哈希值来索引，而不是文件名。</p>
<h2 id="Git-一般只添加数据"><a href="#Git-一般只添加数据" class="headerlink" title="Git 一般只添加数据"></a>Git 一般只添加数据</h2><p>你执行的 Git 操作，几乎只往 Git 数据库中增加数据。 很难让 Git 执行任何不可逆操作(不可恢复操作)，或者让它以任何方式清除数据。同别的 VCS 一样，未提交更新时有可能丢失或弄乱修改的内容；但是一旦提交快照到 Git 中，就难以再丢失数据，特别是如果你定期的推送数据库到其它仓库的话。</p>
<p>更深度探讨 Git 如何保存数据及恢复丢失数据的话题，请参考 <a target="_blank" rel="noopener" href="https://www.yiibai.com/git/git_fix_mistakes.html">Git 修正错误</a>  <a target="_blank" rel="noopener" href="https://www.yiibai.com/git/git_reset.html">git reset 命令</a> 。</p>
<h1 id="Git-工作流"><a href="#Git-工作流" class="headerlink" title="Git 工作流"></a>Git 工作流</h1><p> <a target="_blank" rel="noopener" href="https://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%88%86%E6%94%AF%E5%BC%80%E5%8F%91%E5%B7%A5%E4%BD%9C%E6%B5%81">分支开发工作流</a> </p>
<p> <a target="_blank" rel="noopener" href="https://git-scm.com/book/zh/v2/%E5%88%86%E5%B8%83%E5%BC%8F-Git-%E5%88%86%E5%B8%83%E5%BC%8F%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B">分布式工作流程</a> </p>
<p>上面的官方链接介绍了常用的工作流程，但在实际的开发中，你会遇到许多可能适合你的特定工作流程的变种。</p>
<p>官网也给出了一些如何扮演不同工作流程中主要角色的更具体的例子，请参考 <a target="_blank" rel="noopener" href="https://git-scm.com/book/zh">Git Book</a> 。</p>
<h1 id="Git-安装配置"><a href="#Git-安装配置" class="headerlink" title="Git 安装配置"></a>Git 安装配置</h1><p> <a target="_blank" rel="noopener" href="https://git-scm.com/book/zh/v2/%E8%B5%B7%E6%AD%A5-%E5%AE%89%E8%A3%85-Git">安装 Git</a> </p>
<p> <a target="_blank" rel="noopener" href="http://git-scm.com/download/win">Git for Windows</a> </p>
<p> <a target="_blank" rel="noopener" href="http://windows.github.com/">GitHub for Windows</a> </p>
<h1 id="Git-更新"><a href="#Git-更新" class="headerlink" title="Git 更新"></a>Git 更新</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git update-git-for-windows</span><br></pre></td></tr></table></figure>

<h1 id="Git-配置代理"><a href="#Git-配置代理" class="headerlink" title="Git 配置代理"></a>Git 配置代理</h1><p>如何选择代理？</p>
<h2 id="代理-HTTP-协议"><a href="#代理-HTTP-协议" class="headerlink" title="代理 HTTP 协议"></a>代理 HTTP 协议</h2><p>为HTTP(应用层)协议配置SOCKS(会话层)代理：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看当前代理设置，</span></span><br><span class="line">git config --global http.proxy</span><br><span class="line">git config --global https.proxy</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置当前代理为 socket5://127.0.0.1:1080</span></span><br><span class="line">git config --global http.proxy socks5://127.0.0.1:1080</span><br><span class="line">git config --global https.proxy socks5://127.0.0.1:1080</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置当前代理为 http://127.0.0.1:1080</span></span><br><span class="line">git config --global http.proxy &#x27;http://127.0.0.1:1080&#x27;</span><br><span class="line">git config --global https.proxy &#x27;http://127.0.0.1:1080&#x27;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">取消代理</span></span><br><span class="line">git config --global --unset http.proxy</span><br><span class="line">git config --global --unset https.proxy</span><br><span class="line"></span><br><span class="line">npm config delete proxy</span><br></pre></td></tr></table></figure>

<h2 id="代理-SSH-协议"><a href="#代理-SSH-协议" class="headerlink" title="代理 SSH 协议"></a>代理 SSH 协议</h2><p><font color="red"><strong>为 SSH (应用层) 协议配置 SOCKS (会话层) 代理。</strong></font></p>
<h3 id="SSH-和-OpenSSH"><a href="#SSH-和-OpenSSH" class="headerlink" title="SSH 和 OpenSSH"></a>SSH 和 OpenSSH</h3><p><a target="_blank" rel="noopener" href="https://man.archlinux.org/man/ssh.1#T">https://man.archlinux.org/man/ssh.1#T</a>        <font color="red"><strong>ssh命令</strong></font> </p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>功能</th>
<th>举例</th>
</tr>
</thead>
<tbody><tr>
<td>SSH</td>
<td>协议</td>
<td>定义安全远程登录、文件传输和端口转发</td>
<td>SSH-1 &#x2F; SSH-2</td>
</tr>
<tr>
<td>OpenSSH</td>
<td>SSH协议的具体实现</td>
<td>提供 SSH 协议的客户端&#x2F;服务端程序</td>
<td><code>ssh</code>, <code>sshd</code>, <code>scp</code>, <code>sftp</code></td>
</tr>
</tbody></table>
<h3 id="被墙"><a href="#被墙" class="headerlink" title="被墙"></a>被墙</h3><p>测试方式：用 登录用户 <code>git</code> 请求 SSH 公钥验证：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">验证失败</span></span><br><span class="line">ssh -T git@github.com -p 22</span><br><span class="line">Connection closed by UNKNOWN port 65535</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">验证成功。GitHub 提供的备用 SSH 接入点</span></span><br><span class="line">ssh -T git@ssh.github.com -p 22  # SSH 协议默认使用 TCP 22 端口。也许可用，但国内不稳定，而且有些vpn服务器所在地区无法使用。</span><br><span class="line">ssh -T git@ssh.github.com -p 443 # 443 端口。推荐使用</span><br><span class="line">Hi hellozhaolq! You&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span><br></pre></td></tr></table></figure>

<ul>
<li><code>-T</code> 禁用伪终端分配。<br>当你用 SSH 连 GitHub 时，GitHub 并不会提供交互式 Shell（不像你连一台 Linux 服务器那样）。 如果不用 <code>-T</code>，有些情况下 SSH 会尝试申请一个伪终端，GitHub 直接拒绝。</li>
<li><code>git</code> 是 SSH 登录用户名。</li>
<li><code>github.com</code> 是远程主机名，会去匹配 OpenSSH 客户端配置文件中的 <code>Host github.com</code> 段落。</li>
<li><code>-p</code> 优先级高于 OpenSSH 客户端配置文件中的 <code>Port</code> 。</li>
</ul>
<h3 id="ProxyCommand"><a href="#ProxyCommand" class="headerlink" title="ProxyCommand"></a>ProxyCommand</h3><p><a target="_blank" rel="noopener" href="https://man.archlinux.org/man/ssh_config.5.en">https://man.archlinux.org/man/ssh_config.5.en</a>        <font color="red"><strong>OpenSSH 客户端配置文件</strong></font> </p>
<p><code>ProxyCommand</code> 是 <strong>SSH 配置文件中的一个选项</strong>，用来指定<strong>通过代理或中间命令连接目标主机</strong>。它的作用是告诉 SSH 在建立连接时，不直接连接目标，而是先执行一个命令，通过这个命令转发流量。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProxyCommand &lt;命令&gt; %h %p</span><br></pre></td></tr></table></figure>

<ul>
<li><code>%h</code>：自动被替换为命令行上的目标主机</li>
<li><code>%p</code>：自动被替换为命令行上的目标端口</li>
<li><code>&lt;命令&gt;</code>：用来建立连接的命令，例如 <code>nc</code>、<code>ncat</code> 或自定义脚本</li>
</ul>
<h3 id="ncat"><a href="#ncat" class="headerlink" title="ncat"></a>ncat</h3><p>ncat 命令是 nc 命令的增强版，是一款功能丰富的网络工具，重要功能包括但不限于：</p>
<ul>
<li>将 Ncats 链接在一起。</li>
<li>将 TCP、UDP 和 SCTP 端口重定向（端口转发）到其他网站的能力。</li>
<li>支持 SSL 的能力。</li>
<li>通过 SOCKS4、SOCKS5 或 HTTP 代理（还可选择代理身份验证）进行代理连接。</li>
</ul>
<p>Windows 环境下，请下载 nmap 安装版，参考：<a target="_blank" rel="noopener" href="https://nmap.org/book/toc.html">https://nmap.org/book/toc.html</a></p>
<p>在 CMD 中查看执行文件位置：<code>where ncat</code></p>
<h3 id="局部代理"><a href="#局部代理" class="headerlink" title="局部代理"></a>局部代理</h3><p><font color="red"><strong>修改 OpenSSH 客户端配置文件 <code>~/.ssh/config</code> ：</strong></font> </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Host 指定哪些域名（或别名）使用下面的声明，中间用空格分隔。</span></span><br><span class="line">Host github.com</span><br><span class="line">    # 指定要登录的真实主机名</span><br><span class="line">    HostName ssh.github.com</span><br><span class="line">    # 指定连接远程主机的端口号。SSH 协议默认使用 TCP 22 端口。</span><br><span class="line">    Port 443</span><br><span class="line">    # 无认证</span><br><span class="line">    ProxyCommand ncat --proxy-type socks5 --proxy 127.0.0.1:1080 %h %p</span><br><span class="line">    # 有认证</span><br><span class="line">    #ProxyCommand ncat --proxy-type socks5 --proxy 127.0.0.1:1080 --proxy-user username --proxy-pass password %h %p</span><br></pre></td></tr></table></figure>

<p>其实际执行的是：<code>ncat --proxy-type socks5 --proxy 127.0.0.1:1080 ssh.github.com 443</code>。如果代理转发成功，v2rayN 会将接收的请求转发到远端，建立起 <code>ssh.github.com:443</code> 连接。</p>
<h3 id="全局代理"><a href="#全局代理" class="headerlink" title="全局代理"></a>全局代理</h3><p>将 ProxyCommand 配置在最顶层：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProxyCommand ncat --proxy-type socks5 --proxy 127.0.0.1:1080 %h %p</span><br></pre></td></tr></table></figure>

<h1 id="本地保存帐号密码"><a href="#本地保存帐号密码" class="headerlink" title="本地保存帐号密码"></a>本地保存帐号密码</h1><p> <a target="_blank" rel="noopener" href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E5%87%AD%E8%AF%81%E5%AD%98%E5%82%A8">Git 工具 - 凭证存储</a> </p>
<p>git bash 进入<strong>项目目录</strong>，输入：</p>
<p> <code>git config --global credential.helper store</code> </p>
<p>然后会在本地生成一个文本，上边记录着账号和密码。当然这些可以不用关心。</p>
<p>使用上述的命令配置好之后，再操作一次 <code>git pull</code>，它会提示输入账号密码，之后就不会提示了。</p>
<h1 id="Git-基本操作"><a href="#Git-基本操作" class="headerlink" title="Git 基本操作"></a>Git 基本操作</h1><h2 id="git-config"><a href="#git-config" class="headerlink" title="git config"></a>git config</h2><p><font color="blue">官方：</font> <a target="_blank" rel="noopener" href="https://git-scm.com/docs/git-config">https://git-scm.com/docs/git-config</a> </p>
<p><code>git config</code>命令用于获取并设置存储库或全局选项。这些变量可以控制Git的外观和操作的各个方面。</p>
<h3 id="配置文件的存储位置"><a href="#配置文件的存储位置" class="headerlink" title="配置文件的存储位置"></a>配置文件的存储位置</h3><p>这些变量可以被存储在三个不同的位置：</p>
<ol>
<li><p><code>/etc/gitconfig</code> 文件：包含了适用于<strong>操作系统所有用户和所有库的值</strong>。如果传递参数选项 <code>--system</code> 给 <code>git config</code>，它将明确的读和写这个文件。 </p>
<p>Windows环境中，该文件在Git安装目录下，例如 D:\Program Files\Git\mingw64\etc。</p>
</li>
<li><p><code>~/.gitconfig</code> 文件 ：<strong>具体到当前用户</strong>（例如 Administrator）。可以通过传递 <code>--global</code> 选项使 Git 读或写这个特定的文件。</p>
<p>Windows环境中，该文件在系统当前用户目录下，例如 C:\Users\Administrator。</p>
</li>
<li><p>位于 <code>.git</code> 目录的config文件 (也就是 <code>.git/config</code>) ：无论当前在用的库是什么，特定指向该单一的库。<strong>每个级别重写前一个级别的值</strong>。因此，在<code>.git/config</code>中的值覆盖了在<code>/etc/gitconfig</code>中的同一个值。</p>
<p>Windows环境中，该文件在库目录下，例如 D:\git\git-test\.git。</p>
</li>
</ol>
<p><strong>优先级</strong>：<code>.git/config</code> &gt; <code>~/.gitconfig</code> &gt; <code>/etc/gitconfig</code> </p>
<h3 id="配置用户名和邮箱"><a href="#配置用户名和邮箱" class="headerlink" title="配置用户名和邮箱"></a>配置用户名和邮箱</h3><p>当安装Git后首先要做的事情是<strong>设置用户名和e-mail</strong>地址。这是非常重要的，因为每次Git提交都会使用该信息。它被永远的嵌入到了你的提交中：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git config --global user.name <span class="string">&#x27;JonSnows&#x27;</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git config --global user.email <span class="string">&#x27;JonSnows@qq.com&#x27;</span></span></span><br></pre></td></tr></table></figure>

<p>重申一遍，只需要做一次这个设置。如果传递了 <code>--global</code> 选项，那么Git将总是会使用该信息来处理在系统中所做的一切操作。如果希望在一个特定的项目中使用不同的名称或 <code>e-mail</code> 地址，可以在该项目中运行该命令而不要 <code>--global</code> 选项。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config user.name <span class="string">&#x27;JonSnows&#x27;</span></span><br><span class="line">$ git config user.email <span class="string">&#x27;JonSnows@qq.com&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="配置编缉器"><a href="#配置编缉器" class="headerlink" title="配置编缉器"></a>配置编缉器</h3><p>可以配置默认的文本编辑器，Git在需要你输入一些消息时会使用该文本编辑器。缺省情况下，Git使用系统的缺省编辑器，这通常可能是 <code>vi</code> 或者 <code>vim</code> 。如果想使用一个不同的文本编辑器，例如：<code>Emacs</code>，可以按照如下操作：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global core.editor emacs</span><br></pre></td></tr></table></figure>

<h3 id="配置比较工具"><a href="#配置比较工具" class="headerlink" title="配置比较工具"></a>配置比较工具</h3><p>另外一个你可能需要配置的有用的选项是缺省的比较工具，它用来解决合并时的冲突。例如，想使用 <code>vimdiff</code> 作为比较工具:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global merge.tool vimdiff</span><br></pre></td></tr></table></figure>

<p>Git可以接受 kdiff3, tkdiff, meld, xxdiff, emerge, vimdiff, gvimdiff, ecmerge, 和 opendiff 作为有效的合并工具。也可以设置一个客户端的工具；</p>
<h3 id="检查配置"><a href="#检查配置" class="headerlink" title="检查配置"></a>检查配置</h3><p>如果想检查你的设置，可以使用 <code>git config --list</code> 命令来列出Git可以在该处找到的所有的设置:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git config --<span class="built_in">local</span> --list   <span class="comment"># 局部配置，优先级最高</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git config –-global --list  <span class="comment"># 全局配置</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git config –-system --list  <span class="comment"># 系统配置，优先级最低</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git config --list           <span class="comment"># 所有配置</span></span></span><br><span class="line">core.symlinks=false</span><br><span class="line">core.autocrlf=true</span><br><span class="line">core.fscache=true</span><br><span class="line">color.diff=auto</span><br><span class="line">color.status=auto</span><br><span class="line">color.branch=auto</span><br><span class="line">color.interactive=true</span><br><span class="line">help.format=html</span><br><span class="line">rebase.autosquash=true</span><br><span class="line">http.sslcainfo=D:/Program Files/Git/mingw64/ssl/certs/ca-bundle.crt</span><br><span class="line">http.sslbackend=openssl</span><br><span class="line">diff.astextplain.textconv=astextplain</span><br><span class="line">filter.lfs.clean=git-lfs clean -- %f</span><br><span class="line">filter.lfs.smudge=git-lfs smudge --skip -- %f</span><br><span class="line">filter.lfs.process=git-lfs filter-process --skip</span><br><span class="line">filter.lfs.required=true</span><br><span class="line">credential.helper=manager</span><br><span class="line">user.name=JonSnows                  # user.name</span><br><span class="line">user.email=JonSnows@qq.com          # user.email</span><br><span class="line">winupdater.recentlyseenversion=2.23.0.windows.1</span><br><span class="line">core.repositoryformatversion=0</span><br><span class="line">core.filemode=false</span><br><span class="line">core.bare=false</span><br><span class="line">core.logallrefupdates=true</span><br><span class="line">core.symlinks=false</span><br><span class="line">core.ignorecase=true</span><br><span class="line">remote.origin.url=git@github.com:JonSnows/git-test.git</span><br><span class="line">remote.origin.fetch=+refs/heads/*:refs/remotes/origin/*</span><br><span class="line">branch.master.remote=origin</span><br><span class="line">branch.master.merge=refs/heads/master</span><br><span class="line">user.name=JonSnowsaaaaaa            # user.name		被使用</span><br><span class="line">user.email=JonSnowsaaaaaa@qq.com    # user.email	被使用</span><br></pre></td></tr></table></figure>

<p>可能会看到一个关键字出现多次(如这里的:<code>user.name</code>就有两个值)，这是因为Git从不同的文件中(例如：<code>/etc/gitconfig</code>以及<code>~/.gitconfig</code>)读取相同的关键字。在这种情况下，对每个唯一的关键字，Git使用最后的那个值。</p>
<p>也可以查看Git认为的一个特定的关键字目前的值，使用如下命令 <code>git config {key}</code>:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git config user.name</span></span><br><span class="line">JonSnowsaaaaaa</span><br><span class="line"></span><br><span class="line">Administrator@JonSnows MINGW64 /d/aa/git-test (master)</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git config user.email</span></span><br><span class="line">JonSnowsaaaaaa@qq.com</span><br></pre></td></tr></table></figure>

<h3 id="添加-删除配置项"><a href="#添加-删除配置项" class="headerlink" title="添加&#x2F;删除配置项"></a>添加&#x2F;删除配置项</h3><h4 id="添加配置项"><a href="#添加配置项" class="headerlink" title="添加配置项"></a>添加配置项</h4><p>参数</p>
<ul>
<li><code>-–add</code></li>
</ul>
<p>格式: <code>git config [–local|–global|–system] –-add section.key value</code>(默认是添加在 <code>local</code> 配置中)</p>
<p>注意add后面的 <code>section</code>, <code>key</code>, <code>value</code> 一项都不能少，否则添加失败。比如执行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git config --add site.name www.JonSnows.com</span></span><br></pre></td></tr></table></figure>

<h4 id="删除配置项"><a href="#删除配置项" class="headerlink" title="删除配置项"></a>删除配置项</h4><p>命令参数</p>
<ul>
<li><code>-–unset</code><br>格式：<code>git config [–local|–global|–system] –unset section.key</code></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除 <span class="built_in">local</span> 配置中的 site.name 配置值</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git config --<span class="built_in">local</span> --<span class="built_in">unset</span> site.name</span></span><br></pre></td></tr></table></figure>

<h2 id="git-help"><a href="#git-help" class="headerlink" title="git help"></a>git help</h2><p>如果在使用Git时需要帮助，有三种方法可以获得任何 git 命令的手册页（manpage）帮助信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">help</span> &lt;verb&gt;</span><br><span class="line">$ git &lt;verb&gt; --<span class="built_in">help</span></span><br></pre></td></tr></table></figure>

<p>示例</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">help</span> <span class="built_in">help</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git config --<span class="built_in">help</span></span></span><br></pre></td></tr></table></figure>

<h2 id="git-init"><a href="#git-init" class="headerlink" title="git init"></a>git init</h2><p>Git 使用 <strong>git init</strong> 命令来初始化一个 Git 仓库，Git 的很多命令都需要在 Git 的仓库中运行，所以 <strong>git init</strong> 是使用 Git 的第一个命令。</p>
<p>在执行完成 <strong>git init</strong> 命令后，Git 仓库会生成一个 .git 目录，该目录包含了资源的所有元数据，其他的项目目录保持不变（不像 SVN 会在每个子目录生成 .svn 目录，Git 只在仓库的根目录生成 .git 目录）。</p>
<p>用 <code>git init</code> 在目录中创建新的 Git 仓库，可以在任何时候、任何目录中这么做，完全是本地化的。</p>
<p>比如创建 runoob 项目：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git init runoob <span class="comment">#使用指定目录作为Git仓库</span></span><br><span class="line"></span><br><span class="line">或者</span><br><span class="line"></span><br><span class="line"><span class="built_in">mkdir</span> runoob</span><br><span class="line"><span class="built_in">cd</span> runoob</span><br><span class="line">git init <span class="comment">#使用当前目录作为Git仓库</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">ls</span> -a <span class="comment">#现在可以看到项目中生成了 .git 子目录</span></span><br></pre></td></tr></table></figure>

<h2 id="git-clone"><a href="#git-clone" class="headerlink" title="git clone"></a>git clone</h2><p>使用 <code>git clone</code> 拷贝一个 Git 仓库到本地，让自己能够查看该项目，或者进行修改，此操作将复制该项目的全部记录。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> [url]</span><br><span class="line"></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/username/RepositoryName.git</span><br></pre></td></tr></table></figure>

<p>默认情况下，Git 会按照 URL 所指示的项目名称创建本地项目目录。 通常就是 URL 最后一个 &#x2F; 之后的项目名称，即 RepositoryName 。如果想要一个不一样的名字， 可以在该命令后加上想要的名称。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/username/RepositoryName.git folderName/CustomName	<span class="comment"># 指定目录</span></span><br></pre></td></tr></table></figure>

<p>可以使用不同的协议，包括 ssh, git, https 等。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:username/RepositoryName.git CustomName			<span class="comment"># SSH协议 速度较快，可以配置公钥免输入密码</span></span><br><span class="line">git <span class="built_in">clone</span> git://github.com/username/RepositoryName.git CustomName		<span class="comment"># GIT协议</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/username/RepositoryName.git CustomName		<span class="comment"># HTTPS协议</span></span><br></pre></td></tr></table></figure>

<h2 id="git-add"><a href="#git-add" class="headerlink" title="git add"></a>git add</h2><p>将文件添加到<font color="red">缓存区（暂存区）</font>，缓存区中的文件都是未提交的</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git add [file1] [file2]      <span class="comment">#　添加一个或多个文件到暂存区</span></span><br><span class="line">git add [<span class="built_in">dir</span>]　　　　　　　　　  <span class="comment"># 添加指定目录到暂存区，包括子目录</span></span><br><span class="line">git add .                    <span class="comment"># 将当前目录下的所有修改添加到暂存区</span></span><br><span class="line">git add *                    <span class="comment"># 使用Ant风格，将所有修改添加到暂存区</span></span><br></pre></td></tr></table></figure>

<p> <a target="_blank" rel="noopener" href="https://blog.csdn.net/f641385712/article/details/118032869">AntPathMatcher路径匹配器，Ant风格的URL</a> </p>
<h2 id="git-status"><a href="#git-status" class="headerlink" title="git status"></a>git status</h2><p>查看项目的当前状态，简单讲，查看上次提交之后是否有修改，<font color="red">修改是否被缓存（被暂存）</font>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git status    <span class="comment">#详细结果输出</span></span><br><span class="line">git status -s <span class="comment">#简短结果输出</span></span><br></pre></td></tr></table></figure>

<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/1570006941653.png" alt="1570006941653"></p>
<p>新增文件 <code>new.txt</code> ，并填写内容，再执行 <code>git status</code> 和 <code>git status -s</code> ，如下图，表示该文件是新增文件，未添加到缓存，未提交到版本库。</p>
<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/1570007053925.png" alt="1570007053925"></p>
<p>执行 <code>git add</code> 命令添加文件到缓存区，再执行 <code>git status</code> 和 <code>git status -s</code> ，如下图，表示该文件是新增文件，无修改未添加到缓存，有修改未提交到版本库。</p>
<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/1570006354885.png" alt="1570006354885"></p>
<p>修改文件内容后，再执行 <code>git status</code> 和 <code>git status -s</code> ，如下图，表示该文件是新增文件，有修改未添加到缓存，有修改未提交到版本库。</p>
<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/1570006778565.png" alt="1570006778565"></p>
<p>修改版本库中的文件内容，如下图，表示该文件非新增文件，有修改未添加到缓存，有修改未提交到版本库。</p>
<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/1570029346639.png" alt="1570029346639"></p>
<p>修改版本库中的文件内容，并添加到缓存，如下图，表示该文件非新增文件，无修改未添加到缓存，有修改未提交到版本库。</p>
<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/1570029716814.png" alt="1570029716814"></p>
<p><strong>总结：</strong></p>
<p>控制台有颜色：</p>
<p>​	<font color="red">红色</font>表示：有修改未添加到缓存，有修改未提交到版本库。</p>
<p>​	<font color="green">绿色</font>表示：无修改未添加到缓存，有修改未提交到版本库。</p>
<p>控制台无颜色：<code>_</code> 表示空格，除了 <code>??</code> ，第一位非空即绿，第二位非空即红。</p>
<p>​	<code>??</code> 表示：该文件是新增文件，未添加到缓存，未提交到版本库。</p>
<p>​	<code>A_ </code> 表示：该文件是新增文件，无修改未添加到缓存，有修改未提交到版本库。</p>
<p>​	<code>AM</code> 表示：该文件是新增文件，有修改未添加到缓存，有修改未提交到版本库。</p>
<p>​	<code>_M</code> 表示：该文件非新增文件，有修改未添加到缓存，有修改未提交到版本库。</p>
<p>​	<code>M_</code> 表示：该文件非新增文件，无修改未添加到缓存，有修改未提交到版本库。</p>
<h2 id="git-diff"><a href="#git-diff" class="headerlink" title="git diff"></a>git diff</h2><p>预览差异。执行 <code>git diff</code> 来查看执行 <code>git status</code> 的结果的详细信息。</p>
<p><code>git status</code> 显示上次提交更新后的更改或者写入缓存的改动， 而 <code>git diff</code> 一行一行地显示这些改动具体是啥。</p>
<h3 id="应用场景1"><a href="#应用场景1" class="headerlink" title="应用场景1"></a>应用场景1</h3><ul>
<li>尚未缓存的改动：<strong><code>git diff</code></strong></li>
<li>查看已缓存的改动： <strong><code>git diff --cached</code></strong></li>
<li>查看已缓存的与未缓存的所有改动：<strong><code>git diff HEAD</code></strong></li>
<li>显示摘要而非整个 diff：<strong><code>git diff --stat</code></strong></li>
</ul>
<p>新建文件 new.txt ，写入内容 “已缓存的修改” ，添加到缓存，再写入内容 “未缓存的修改” 。</p>
<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/1570033381991.png" alt="1570033381991"></p>
<h3 id="应用场景2"><a href="#应用场景2" class="headerlink" title="应用场景2"></a>应用场景2</h3><p>在分支合并之前，也可以使用 <code>git diff</code> 命令预览差异：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将target_branch分支合并到source_branch分支前预览差异</span></span><br><span class="line">git diff &lt;source_branch&gt; &lt;target_branch&gt;</span><br></pre></td></tr></table></figure>

<h2 id="git-commit"><a href="#git-commit" class="headerlink" title="git commit"></a>git commit</h2><p>使用 <code>git add</code> 命令将想要快照的内容写入缓存区， 而执行 <code>git commit</code> <font color="red">将缓存区内容提交到版本库中</font>。</p>
<p>Git 为每一次提交都记录提交者的名字和电子邮箱地址，所以 commit 前需要配置用户名和邮箱地址。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&#x27;JonSnows&#x27;</span></span><br><span class="line">git config --global user.email JonSnows@qq.com</span><br></pre></td></tr></table></figure>

<p>接下来写入缓存，并提交对项目的所有改动，使用 -m 选项以在命令行中提供提交注释。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add *</span><br><span class="line">git status -s</span><br><span class="line">git commit -m <span class="string">&#x27;第一次版本提交的注释&#x27;</span></span><br></pre></td></tr></table></figure>

<p>如果你没有设置 -m 选项，Git 会尝试为你打开一个编辑器以填写提交信息，退出即可，此时已经完成提交。</p>
<p>如果觉得 git add 提交暂存的流程太过繁琐，Git 也允许用 -a 选项跳过这一步，此命令<font color="red">无法提交新增文件</font>。命令格式如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git commit -am <span class="string">&#x27;提交注释&#x27;</span></span><br><span class="line"></span><br><span class="line">git commit -a <span class="comment"># 会先把所有已经track的文件的改动`git add`进来，然后提交(有点像svn的一次提交,不用先暂存)。对于没有track的文件,还是需要执行`git add &lt;file&gt;` 命令。</span></span><br><span class="line"></span><br><span class="line">git commit --amend <span class="comment"># 增补提交，会使用与当前提交节点相同的父节点进行一次新的提交，旧的提交将会被取消。</span></span><br></pre></td></tr></table></figure>

<p><font color="red">该命令将改动提交到了 HEAD，但是还没到远端仓库。</font></p>
<h2 id="git-reset-HEAD"><a href="#git-reset-HEAD" class="headerlink" title="git reset HEAD"></a>git reset HEAD</h2><p><font color="red">详解：</font> <a target="_blank" rel="noopener" href="https://www.yiibai.com/git/git_reset.html">https://www.yiibai.com/git/git_reset.html</a> </p>
<p><code>git reset HEAD</code> 命令用于取消已缓存的内容。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD &lt;file&gt; <span class="comment">#取消单个缓存</span></span><br><span class="line">git reset HEAD        <span class="comment">#取消所有缓存</span></span><br></pre></td></tr></table></figure>

<p>将一个新增文件 <code>new2.txt</code> 和 修改文件 <code>new.txt</code> 都提交到暂存区，然后一个个撤销暂存，操作如下：</p>
<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/1570013913033.png" alt="1570013913033"></p>
<p>简而言之，执行 <code>git reset HEAD</code> 以取消之前 <code>git add</code> 的添加。</p>
<h2 id="git-stash"><a href="#git-stash" class="headerlink" title="git stash"></a>git stash</h2><p> <a target="_blank" rel="noopener" href="https://www.yiibai.com/git/git_stash.html">https://www.yiibai.com/git/git_stash.html</a> </p>
<h2 id="git-rebase"><a href="#git-rebase" class="headerlink" title="git rebase"></a>git rebase</h2><p> <a target="_blank" rel="noopener" href="https://www.yiibai.com/git/git_rebase.html">https://www.yiibai.com/git/git_rebase.html</a> </p>
<h2 id="git-cherry-pick"><a href="#git-cherry-pick" class="headerlink" title="git cherry-pick"></a>git cherry-pick</h2><p> <a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2020/04/git-cherry-pick.html">https://www.ruanyifeng.com/blog/2020/04/git-cherry-pick.html</a> </p>
<h2 id="git-rm"><a href="#git-rm" class="headerlink" title="git rm"></a>git rm</h2><p>如果只是简单地从工作区中手工删除文件，运行 <strong>git status</strong> 时就会在 <strong>Changes not staged for commit</strong> 的提示。</p>
<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/1570014491047.png" alt="1570014491047"></p>
<p>要从 Git 中移除某个文件，就必须要从已跟踪文件清单中移除，然后提交。可以用以下命令完成此项工作</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">rm</span> &lt;file&gt;</span><br></pre></td></tr></table></figure>

<p>如果删除之前修改过并且已经放到暂存区域的文件，会有如下图错误提示，必须要用强制删除选项 <strong>-f</strong> 。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">rm</span> -f &lt;file&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/1570015299841.png" alt="1570015299841"></p>
<p>如果把文件从暂存区域移除，但仍然希望保留在当前工作目录中，换句话说，仅是从跟踪清单中删除，使用 <strong>–cached</strong> 选项即可。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">rm</span> --cached &lt;file&gt;</span><br></pre></td></tr></table></figure>



<p><font color="red"> <code>git rm --cached &lt;file&gt;</code> 和 <code>git reset HEAD &lt;file&gt;</code>  的区别？</font></p>
<p>​	 <code>git reset HEAD &lt;file&gt;</code> 是取消已缓存的内容，提交到版本库后，此文件无任何改动。</p>
<p>​	 <code>git rm --cached &lt;file&gt;</code> 是把文件从暂存区移除，提交到版本库后，此文件被删除。</p>
<h2 id="git-mv"><a href="#git-mv" class="headerlink" title="git mv"></a>git mv</h2><p><code>git mv</code> 命令用于移动或重命名一个文件、目录、软连接。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">mv</span> &lt;file&gt; &lt;newFile&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/1570016354293.png" alt="1570016354293"></p>
<h1 id="Git-分支管理"><a href="#Git-分支管理" class="headerlink" title="Git 分支管理"></a>Git 分支管理</h1><p>开始前先创建一个测试目录：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git init gitdemo</span><br><span class="line"><span class="built_in">cd</span> gitdemo</span><br><span class="line"><span class="built_in">touch</span> README	<span class="comment"># 添加文件</span></span><br><span class="line">git add README</span><br><span class="line">git commit -m <span class="string">&#x27;第一次版本提交&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="列出分支"><a href="#列出分支" class="headerlink" title="列出分支"></a>列出分支</h2><p>列出分支基本命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git branch</span><br><span class="line">* master</span><br><span class="line">$ git branch -a		<span class="comment"># 查看分支，包括已删除的远程分支，不包括已删除的本地分支</span></span><br><span class="line">* master</span><br><span class="line">  remotes/origin/master</span><br><span class="line">  remotes/origin/testing</span><br></pre></td></tr></table></figure>

<p>此例的意思就是，我们有一个叫做 <strong>master</strong> 的分支，并且该分支是当前分支。</p>
<p>当你执行 <strong>git init</strong> 的时候，默认情况下 Git 就会为你创建 <strong>master</strong> 分支。</p>
<h2 id="创建分支"><a href="#创建分支" class="headerlink" title="创建分支"></a>创建分支</h2><p>创建分支命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch &lt;branchname&gt; <span class="comment">#已当前分支内容为基础创建分支</span></span><br></pre></td></tr></table></figure>

<p>创建 testing 分支：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git branch testing</span><br><span class="line">$ git branch</span><br><span class="line">* master</span><br><span class="line">  testing</span><br></pre></td></tr></table></figure>

<p>当你以此方式在上次提交更新之后创建了新分支，如果后来又有更新提交， 然后又切换到了 <strong>testing</strong> 分支，Git 将还原你的工作目录到你创建分支时候的样子。</p>
<h2 id="切换分支"><a href="#切换分支" class="headerlink" title="切换分支"></a>切换分支</h2><p>切换分支命令:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout &lt;branchname&gt;</span><br></pre></td></tr></table></figure>

<p><font color="red">当切换分支的时候，Git 会用该分支的最后提交的快照替换工作目录（工作区）的内容， 所以多个分支不需要多个目录。</font></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">ls</span></span><br><span class="line">README</span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">&#x27;runoob.com&#x27;</span> &gt; test.txt</span><br><span class="line">$ git add *</span><br><span class="line">$ git commit -m <span class="string">&#x27;add test.txt&#x27;</span></span><br><span class="line">$ <span class="built_in">ls</span></span><br><span class="line">README        test.txt</span><br><span class="line">$ git checkout testing</span><br><span class="line">Switched to branch <span class="string">&#x27;testing&#x27;</span></span><br><span class="line">$ <span class="built_in">ls</span></span><br><span class="line">README</span><br></pre></td></tr></table></figure>

<p>当切换到 <strong>testing</strong> 分支的时候，添加的新文件 test.txt 被移除了。切换回 <strong>master</strong> 分支的时候，它们又重新出现了。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master</span><br><span class="line">Switched to branch <span class="string">&#x27;master&#x27;</span></span><br><span class="line">$ <span class="built_in">ls</span></span><br><span class="line">README        test.txt</span><br></pre></td></tr></table></figure>

<h2 id="创建分支-切换"><a href="#创建分支-切换" class="headerlink" title="创建分支+切换"></a>创建分支+切换</h2><p>创建新分支并立即切换到该分支下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b &lt;branchname&gt; <span class="comment"># build</span></span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master</span><br><span class="line">$ git checkout -b newtest</span><br><span class="line">Switched to a new branch <span class="string">&#x27;newtest&#x27;</span></span><br><span class="line">$ git <span class="built_in">rm</span> test.txt </span><br><span class="line"><span class="built_in">rm</span> <span class="string">&#x27;test.txt&#x27;</span></span><br><span class="line">$ <span class="built_in">ls</span></span><br><span class="line">README</span><br><span class="line">$ <span class="built_in">touch</span> runoob.php	<span class="comment"># 添加文件</span></span><br><span class="line">$ git add *</span><br><span class="line">$ git commit -am <span class="string">&#x27;removed test.txt、add runoob.php&#x27;</span></span><br><span class="line">[newtest c1501a2] removed test.txt、add runoob.php</span><br><span class="line"> 2 files changed, 1 deletion(-)</span><br><span class="line"> create mode 100644 runoob.php</span><br><span class="line"> delete mode 100644 test.txt</span><br><span class="line">$ <span class="built_in">ls</span></span><br><span class="line">README        runoob.php</span><br><span class="line">$ git checkout master</span><br><span class="line">Switched to branch <span class="string">&#x27;master&#x27;</span></span><br><span class="line">$ <span class="built_in">ls</span></span><br><span class="line">README        test.txt</span><br></pre></td></tr></table></figure>

<p>如你所见，我们创建了一个分支，在该分支的上移除了文件 test.txt，并添加了 runoob.php 文件，然后切换回主分支，删除的 test.txt 文件又回来了，且新增加的 runoob.php 不存在主分支中。</p>
<p>使用分支将工作切分开来，从而让我们能够在不同开发环境中做事，并来回切换。</p>
<h2 id="删除分支"><a href="#删除分支" class="headerlink" title="删除分支"></a>删除分支</h2><h3 id="删除本地分支"><a href="#删除本地分支" class="headerlink" title="删除本地分支"></a>删除本地分支</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -d &lt;branchname&gt;</span><br></pre></td></tr></table></figure>

<p>例如删除 testing 分支：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git branch</span><br><span class="line">* master</span><br><span class="line">  testing</span><br><span class="line">$ git branch -d testing</span><br><span class="line">Deleted branch testing (was 85fc7e7).</span><br><span class="line">$ git branch</span><br><span class="line">* master</span><br></pre></td></tr></table></figure>

<h3 id="删除远程分支"><a href="#删除远程分支" class="headerlink" title="删除远程分支"></a>删除远程分支</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin --delete &lt;BranchName&gt;</span><br></pre></td></tr></table></figure>

<h2 id="分支合并"><a href="#分支合并" class="headerlink" title="分支合并"></a>分支合并</h2><p>一旦某分支有了独立内容，终究会希望将它合并到主分支。 可以使用以下命令将任何分支合并到当前分支中去：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge &lt;branchname&gt;</span><br></pre></td></tr></table></figure>

<p><font color="red">可以多次合并到统一分支， 也可以选择在合并之后直接删除被并入的分支。</font></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ git branch</span><br><span class="line">  master</span><br><span class="line">* newtest</span><br><span class="line">$ <span class="built_in">ls</span></span><br><span class="line">README        runoob.php</span><br><span class="line">$ git checkout master</span><br><span class="line">$ <span class="built_in">ls</span></span><br><span class="line">README        test.txt</span><br><span class="line">$ git merge newtest</span><br><span class="line">Updating 3e92c19..c1501a2</span><br><span class="line">Fast-forward</span><br><span class="line"> runoob.php | 0</span><br><span class="line"> test.txt   | 1 -</span><br><span class="line"> 2 files changed, 1 deletion(-)</span><br><span class="line"> create mode 100644 runoob.php</span><br><span class="line"> delete mode 100644 test.txt</span><br><span class="line">$ <span class="built_in">ls</span></span><br><span class="line">README        runoob.php</span><br></pre></td></tr></table></figure>

<p>以上实例中我们将 newtest 分支合并到主分支去，test.txt 文件被删除。</p>
<p>合并完后就可以删除分支，删除未合并的分支会给出提示，要求使用 “git branch -D newtest” 命令删除，大写D。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git branch -d newtest</span></span><br><span class="line">Deleted branch newtest (was c1501a2).</span><br></pre></td></tr></table></figure>

<h2 id="合并冲突"><a href="#合并冲突" class="headerlink" title="合并冲突"></a>合并冲突</h2><p>合并并不仅仅是简单的文件添加、移除的操作，Git 也会合并修改。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git branch</span><br><span class="line">* master</span><br><span class="line">$ <span class="built_in">cat</span> runoob.php</span><br></pre></td></tr></table></figure>

<p>首先，创建一个叫做 change_site 的分支，切换过去，我们将 runoob.php 内容改为:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">echo &#x27;runoob&#x27;;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>创建 change_site 分支：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b change_site</span><br><span class="line">Switched to a new branch <span class="string">&#x27;change_site&#x27;</span></span><br><span class="line">$ <span class="built_in">ls</span></span><br><span class="line">README        runoob.php</span><br><span class="line">$ vim runoob.php</span><br><span class="line">$ <span class="built_in">head</span> -3 runoob.php</span><br><span class="line">&lt;?php</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;runoob&#x27;</span>;</span><br><span class="line">?&gt;</span><br><span class="line">$ git commit -am <span class="string">&#x27;changed the runoob.php&#x27;</span></span><br><span class="line">[change_site 7774248] changed the runoob.php</span><br><span class="line"> 1 file changed, 3 insertions(+)</span><br></pre></td></tr></table></figure>

<p>将修改的内容提交到 change_site 分支中。 现在，切换回 master 分支，我们可以看到 runoob.php 是空文件，我们再次修改 runoob.php 文件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master</span><br><span class="line">Switched to branch <span class="string">&#x27;master&#x27;</span></span><br><span class="line">$ <span class="built_in">cat</span> runoob.php</span><br><span class="line">$ vim runoob.php    <span class="comment"># 修改内容如下</span></span><br><span class="line">$ <span class="built_in">cat</span> runoob.php</span><br><span class="line">&lt;?php</span><br><span class="line"><span class="built_in">echo</span> 1;</span><br><span class="line">?&gt;</span><br><span class="line">$ git diff</span><br><span class="line">diff --git a/runoob.php b/runoob.php</span><br><span class="line">index e69de29..ac60739 100644</span><br><span class="line">--- a/runoob.php</span><br><span class="line">+++ b/runoob.php</span><br><span class="line">@@ -0,0 +1,3 @@</span><br><span class="line">+&lt;?php</span><br><span class="line">+<span class="built_in">echo</span> 1;</span><br><span class="line">+?&gt;</span><br><span class="line">$ git commit -am <span class="string">&#x27;修改代码&#x27;</span></span><br><span class="line">[master c68142b] 修改代码</span><br><span class="line"> 1 file changed, 3 insertions(+)</span><br></pre></td></tr></table></figure>

<p>接下来将 “change_site” 分支合并过来。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ git merge change_site</span><br><span class="line">Auto-merging runoob.php</span><br><span class="line">CONFLICT (content): Merge conflict <span class="keyword">in</span> runoob.php</span><br><span class="line">Automatic merge failed; fix conflicts and <span class="keyword">then</span> commit the result.</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cat</span> runoob.php     <span class="comment"># 打开文件，看到冲突内容</span></span><br><span class="line">&lt;?php</span><br><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; <span class="string">HEAD</span></span><br><span class="line"><span class="string">echo 1;</span></span><br><span class="line"><span class="string">=======</span></span><br><span class="line"><span class="string">echo &#x27;runoob&#x27;;</span></span><br><span class="line"><span class="string">&gt;&gt;&gt;&gt;&gt;&gt;&gt; change_site</span></span><br><span class="line"><span class="string">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>现在已将 “change_site” 分支合并到 “master” 分支，发现一个合并冲突，接下来需要手动修改它。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">$ git diff</span><br><span class="line">diff --cc runoob.php</span><br><span class="line">index ac60739,b63d7d7..0000000</span><br><span class="line">--- a/runoob.php</span><br><span class="line">+++ b/runoob.php</span><br><span class="line">@@@ -1,3 -1,3 +1,7 @@@</span><br><span class="line">  &lt;?php</span><br><span class="line">++&lt;&lt;&lt;&lt;&lt;&lt;&lt; <span class="string">HEAD</span></span><br><span class="line"><span class="string"> +echo 1;</span></span><br><span class="line"><span class="string">++=======</span></span><br><span class="line"><span class="string">+ echo &#x27;runoob&#x27;;</span></span><br><span class="line"><span class="string">++&gt;&gt;&gt;&gt;&gt;&gt;&gt; change_site</span></span><br><span class="line"><span class="string">  ?&gt;</span></span><br><span class="line"><span class="string">$ vim runoob.php</span></span><br><span class="line"><span class="string">$ cat runoob.php	# 修改后的内容</span></span><br><span class="line"><span class="string">&lt;?php</span></span><br><span class="line"><span class="string">echo 1;</span></span><br><span class="line"><span class="string">echo &#x27;runoob&#x27;;</span></span><br><span class="line"><span class="string">?&gt;</span></span><br><span class="line"><span class="string">$ git diff</span></span><br><span class="line"><span class="string">diff --cc runoob.php</span></span><br><span class="line"><span class="string">index ac60739,b63d7d7..0000000</span></span><br><span class="line"><span class="string">--- a/runoob.php</span></span><br><span class="line"><span class="string">+++ b/runoob.php</span></span><br><span class="line"><span class="string">@@@ -1,3 -1,3 +1,4 @@@</span></span><br><span class="line"><span class="string">  &lt;?php</span></span><br><span class="line"><span class="string"> +echo 1;</span></span><br><span class="line"><span class="string">+ echo &#x27;runoob&#x27;;</span></span><br><span class="line"><span class="string">  ?&gt;</span></span><br></pre></td></tr></table></figure>

<p>在 Git 中，我们可以用 git add 要告诉 Git 文件冲突已经解决</p>
<p>解决合并的文件冲突后，添加到缓存区，并提交结果。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git status -s</span><br><span class="line">UU runoob.php</span><br><span class="line">$ git add runoob.php</span><br><span class="line">$ git status -s</span><br><span class="line">M  runoob.php</span><br><span class="line">$ git commit</span><br><span class="line">[master 88afe0e] Merge branch <span class="string">&#x27;change_site&#x27;</span></span><br></pre></td></tr></table></figure>

<h1 id="Git-查看提交历史"><a href="#Git-查看提交历史" class="headerlink" title="Git 查看提交历史"></a>Git 查看提交历史</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span>						<span class="comment"># 列出历史提交记录</span></span><br><span class="line">git <span class="built_in">log</span> --oneline			<span class="comment"># 简洁版，项目的开发历史</span></span><br><span class="line">git <span class="built_in">log</span> --pretty=oneline	<span class="comment"># 简洁版，项目的开发历史</span></span><br><span class="line">git <span class="built_in">log</span> -3					<span class="comment"># 显示最近三次的提交</span></span><br><span class="line">git <span class="built_in">log</span> --no-merges			<span class="comment"># 列出历史提交记录，但跳过合并</span></span><br><span class="line">git <span class="built_in">log</span> --graph				<span class="comment"># 何时出现分支、何时归并</span></span><br><span class="line">git <span class="built_in">log</span> --reverse			<span class="comment"># 逆向显示所有日志</span></span><br><span class="line">git <span class="built_in">log</span> --author=JonSnows	<span class="comment"># 查找指定用户提交的记录，用户名区分大小写</span></span><br><span class="line">git <span class="built_in">log</span> --author=JonSnows --oneline -5	<span class="comment"># JonSnows提交记录的最近5条简洁版</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果你要指定日期，可以执行几个选项：--since 和 --before，但是你也可以用 --until 和 --after。</span></span><br><span class="line">git <span class="built_in">log</span> --before=&#123;3.weeks.ago&#125; --after=&#123;2019-10-03&#125; <span class="comment"># 在三周前且在 2019-10-03 之后的所有提交</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看从 2019-10-03 到 2019-10-04 的所有提交</span></span><br><span class="line">git <span class="built_in">log</span> --since=&#123;2019-10-03&#125; --<span class="keyword">until</span>=&#123;2019-10-04&#125;                           <span class="comment"># 方式一</span></span><br><span class="line">git <span class="built_in">log</span> --oneline --before=&#123;2019-10-04&#125; --after=&#123;2019-10-03&#125; --no-merges    <span class="comment"># 方式二</span></span><br></pre></td></tr></table></figure>

<p>更多 git log 命令可查看： <a target="_blank" rel="noopener" href="https://git-scm.com/docs/git-log">https://git-scm.com/docs/git-log</a> </p>
<h1 id="Git-标签"><a href="#Git-标签" class="headerlink" title="Git 标签"></a>Git 标签</h1><p> <a target="_blank" rel="noopener" href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E7%AD%BE%E7%BD%B2%E5%B7%A5%E4%BD%9C">Git 工具 - 签署工作</a> </p>
<p>Git 使用的标签有两种类型：轻量级的(lightweight)和含附注的(annotated)。</p>
<p>**轻量级标签：**就像是个不会变化的分支，实际上它就是个指向特定提交对象的引用。</p>
<p>**含附注标签：**实际上是存储在仓库中的一个独立对象，它有自身的校验和信息，包含着标签的名字，电子邮件地址和日期，以及标签说明，标签本身也允许使用 GNU Privacy Guard (GPG) 来签署或验证。</p>
<p>建议使用含附注标签，以便保留相关信息；当然，如果只是临时性加注标签，或者不需要旁注额外信息，用轻量级标签也没问题。</p>
<h2 id="列显标签"><a href="#列显标签" class="headerlink" title="列显标签"></a>列显标签</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git tag	<span class="comment"># 列出现有标签</span></span><br><span class="line">v1.0</span><br><span class="line">v1.2</span><br><span class="line"></span><br><span class="line">$ git tag -l <span class="string">&#x27;v1.4.2.*&#x27;</span>		<span class="comment"># 用特定的搜索模式列出符合条件的标签</span></span><br><span class="line">v1.4.2.1</span><br><span class="line">v1.4.2.2</span><br><span class="line">v1.4.2.3</span><br><span class="line">v1.4.2.4</span><br></pre></td></tr></table></figure>

<h2 id="创建标签"><a href="#创建标签" class="headerlink" title="创建标签"></a>创建标签</h2><p>注意：处于同一状态的项目可以创建多个标签。为了方便对比，下面示例中在创建标签之前会先做一次修改并提交，这样就避免了多个标签。</p>
<p>多个标签的情况：</p>
<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/1570181890623.png" alt="1570181890623"></p>
<h3 id="轻量级标签"><a href="#轻量级标签" class="headerlink" title="轻量级标签"></a>轻量级标签</h3><p>轻量级标签实际上就是一个保存着对应提交对象的校验和信息的文件。要创建这样的标签，一个 <code>-a</code>，<code>-s</code> 或 <code>-m</code> 选项都不用，直接给出标签名字即可：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git tag v1.0-lw</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git tag</span></span><br><span class="line">v1.0-lw</span><br></pre></td></tr></table></figure>

<h3 id="含附注标签"><a href="#含附注标签" class="headerlink" title="含附注标签"></a>含附注标签</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建一个含附注类型的标签</span></span><br><span class="line"><span class="comment"># 用 -a 指定标签名字。(译注：取 annotated 的首字母)</span></span><br><span class="line"><span class="comment"># 用 -m 指定标签说明。Git 会将此说明一同保存在标签对象中。如果没有给出该选项，Git 会启动文本编辑软件供你输入标签说明。</span></span><br><span class="line">$ git tag -a v2.0 -m <span class="string">&#x27;my version 2.0&#x27;</span></span><br><span class="line">$ git tag</span><br><span class="line">v1.0-lw</span><br><span class="line">v2.0</span><br></pre></td></tr></table></figure>

<h2 id="查看标签"><a href="#查看标签" class="headerlink" title="查看标签"></a>查看标签</h2><p>使用 <code>git show</code> 命令查看相应标签的版本信息，并连同显示打标签时的提交对象。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">$ git show	<span class="comment"># 不指定标签时，显示最新的标签，但不会显示标签详细信息</span></span><br><span class="line">commit 80e7c5b72de33d7faee6dcf43a0aaca1e236d638 (HEAD -&gt; master, tag: v2.0)</span><br><span class="line">Author: JonSnows &lt;JonSnows@qq.com&gt;</span><br><span class="line">Date:   Fri Oct 4 17:40:33 2019 +0800</span><br><span class="line"></span><br><span class="line">    v2.0 版本提交</span><br><span class="line"></span><br><span class="line">$ git show v1.0-lw	<span class="comment"># 轻量级标签，只有相应的提交对象摘要</span></span><br><span class="line">commit 903fa8bfb66086decedfec2b05643e1cdef1e1b0 (tag: v1.0-lw)</span><br><span class="line">Author: JonSnows &lt;JonSnows@qq.com&gt;</span><br><span class="line">Date:   Fri Oct 4 17:39:33 2019 +0800</span><br><span class="line"></span><br><span class="line">    v1.0-lw 版本提交</span><br><span class="line"></span><br><span class="line">$ git show v2.0		<span class="comment"># 含附注标签，不仅有相应的提交对象摘要，还有自身的校验(签名)和信息</span></span><br><span class="line">tag v2.0</span><br><span class="line">Tagger: JonSnows &lt;JonSnows@qq.com&gt;</span><br><span class="line">Date:   Fri Oct 4 17:41:10 2019 +0800</span><br><span class="line"></span><br><span class="line">my version 2.0</span><br><span class="line"></span><br><span class="line">commit 80e7c5b72de33d7faee6dcf43a0aaca1e236d638 (HEAD -&gt; master, tag: v2.0)</span><br><span class="line">Author: JonSnows &lt;JonSnows@qq.com&gt;</span><br><span class="line">Date:   Fri Oct 4 17:40:33 2019 +0800</span><br><span class="line"></span><br><span class="line">    v2.0 版本提交</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>可以看到在提交对象信息上面，列出了<strong>此标签</strong>的<strong>提交者</strong>和<strong>提交时间</strong>，以及相应的<strong>标签说明</strong>。</p>
<h2 id="删除标签"><a href="#删除标签" class="headerlink" title="删除标签"></a>删除标签</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git tag -d v1.0-lw</span></span><br><span class="line">Deleted tag &#x27;v1.0-lw&#x27; (was 903fa8b)</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git tag</span></span><br><span class="line">v2.0</span><br><span class="line">v2.1</span><br></pre></td></tr></table></figure>

<h2 id="签署标签"><a href="#签署标签" class="headerlink" title="签署标签"></a>签署标签</h2><p> <a target="_blank" rel="noopener" href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E7%AD%BE%E7%BD%B2%E5%B7%A5%E4%BD%9C">Git 工具 - 签署工作 ——官方</a> </p>
<p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/GnuPG">了解 GPG ——百科</a> </p>
<p><a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2013/07/gpg.html">GPG 入门教程 ——阮一峰</a> </p>
<p>如果有自己的私钥，还可以用 GPG 来签署标签，只需要把之前的选项 <code>-a</code> 改为 <code>-s</code> (译注： 取 signed 的首字母)即可：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git tag -s v2.1 -m <span class="string">&#x27;my signed 2.1 tag&#x27;</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git show v2.1		<span class="comment"># 含附注标签，不仅有相应的提交对象摘要，还有自身的校验(签名)和信息</span></span></span><br><span class="line">tag v2.1</span><br><span class="line">Tagger: JonSnows &lt;JonSnows@qq.com&gt;</span><br><span class="line">Date:   Fri Oct 4 17:48:01 2019 +0800</span><br><span class="line"></span><br><span class="line">my signed 2.1 tag</span><br><span class="line">-----BEGIN PGP SIGNATURE-----</span><br><span class="line"></span><br><span class="line">iQFEBAABCAAuFiEEvWwz8KF9vaaEDumct8C+21+aReAFAl2XFVEQHGpvbnNub3dz</span><br><span class="line">QHFxLmNvbQAKCRC3wL7bX5pF4GykCACr1gxm1hxxUNVBWRueXL2VqBPRogvOa+lZ</span><br><span class="line">WG0EBGVBFgIC3Wf9+vaI7p9gcjkX3PJKR0Q+gqnkihLutTswf1Hsf6vXzBZNK50b</span><br><span class="line">qY81UcZnu4DyvpCQSU4ZHAzIpjuUxJPaKpNf0QaViYrgawiG9Uvz0u+iMOgDCcf0</span><br><span class="line">Kx6X6BLik6k5wBgDhEAtEDClLRI0mlDtbNJWfCXNDeJd/+x7eR01p/8YEj09rBtm</span><br><span class="line">3hiGAa2gA+NfoX8SsKndJbMGTIN7dc2Y9QgwOH6KQ7w7q2j7rEDAIMUJF1BZC2zi</span><br><span class="line">kfyWQvFPS/3wZXZJnXsdMpscTRXn7wRXm6FRITXbEF726njvL5XY</span><br><span class="line">=5NcP</span><br><span class="line">-----END PGP SIGNATURE-----</span><br><span class="line"></span><br><span class="line">commit 80e7c5b72de33d7faee6dcf43a0aaca1e236d638 (HEAD -&gt; master, tag: v2.1, tag: v2.0)</span><br><span class="line">Author: JonSnows &lt;JonSnows@qq.com&gt;</span><br><span class="line">Date:   Fri Oct 4 17:40:33 2019 +0800</span><br><span class="line"></span><br><span class="line">    v2.0 版本提交</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="验证标签"><a href="#验证标签" class="headerlink" title="验证标签"></a>验证标签</h2><p>可以使用 <code>git tag -v [tag-name]</code> (译注：取 verify 的首字母)的方式验证已经签署的标签。此命令会调用 GPG 来验证签名，所以你需要有签署者的公钥，存放在 keyring 中，才能验证：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git tag -v v2.1</span></span><br><span class="line">gpg: Signature made 2019年10月 4日 17:48:01</span><br><span class="line">gpg:                using RSA key BD6C33F0A17DBDA6840EE99CB7C0BEDB5F9A45E0</span><br><span class="line">gpg:                issuer &quot;jonsnows@qq.com&quot;</span><br><span class="line">gpg: checking the trustdb</span><br><span class="line">gpg: marginals needed: 3  completes needed: 1  trust model: pgp</span><br><span class="line">gpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u</span><br><span class="line">gpg: next trustdb check due at 2021-10-03</span><br><span class="line">gpg: Good signature from &quot;JonSnows &lt;JonSnows@qq.com&gt;&quot; [ultimate]</span><br><span class="line">object 80e7c5b72de33d7faee6dcf43a0aaca1e236d638</span><br><span class="line">type commit</span><br><span class="line">tag v2.1</span><br><span class="line">tagger JonSnows &lt;JonSnows@qq.com&gt; 1570182481 +0800</span><br><span class="line"></span><br><span class="line">my signed 2.1 tag</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>若是没有签署者的公钥，会报告类似下面这样的错误：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git tag -v v2.1</span></span><br><span class="line">gpg: Signature made Wed Sep 13 02:08:25 2019 PDT using DSA key ID F3119B9A</span><br><span class="line">gpg: Can&#x27;t check signature: public key not found</span><br><span class="line">error: could not verify the tag &#x27;v2.1&#x27;</span><br></pre></td></tr></table></figure>

<h2 id="后期加注标签"><a href="#后期加注标签" class="headerlink" title="后期加注标签"></a>后期加注标签</h2><p>甚至可以在后期对早先的某次提交加注标签。比如在下面展示的提交历史中：</p>
<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/1570186370679.png" alt="1570186370679"></p>
<p>我们忘了在提交 <code>v1.0-lw 版本提交</code> 后为此项目打上版本号 <code>v1.0-lw</code>，没关系，现在也能做。只要在打标签的时候跟上对应提交对象的校验和(或前几位字符)即可：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git tag -a v1.0-lw -m <span class="string">&#x27;后期加注标签&#x27;</span> 903fa8b</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">现在，可以看到已经补上了标签：</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git tag</span></span><br><span class="line">v1.0-lw</span><br><span class="line">v2.0</span><br><span class="line">v2.1</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git show v1.0-lw</span></span><br><span class="line">tag v1.0-lw</span><br><span class="line">Tagger: JonSnows &lt;JonSnows@qq.com&gt;</span><br><span class="line">Date:   Fri Oct 4 18:54:47 2019 +0800</span><br><span class="line"></span><br><span class="line">后期加注标签</span><br><span class="line"></span><br><span class="line">Author: JonSnows &lt;JonSnows@qq.com&gt;</span><br><span class="line">Date:   Fri Oct 4 17:39:33 2019 +0800</span><br><span class="line"></span><br><span class="line">    v1.0-lw 版本提交</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/1570187084121.png" alt="1570187084121"></p>
<h2 id="分享标签"><a href="#分享标签" class="headerlink" title="分享标签"></a>分享标签</h2><p>默认情况下，<code>git push</code> 并不会把标签传送到远端服务器上，只有通过显式命令才能分享标签到远端仓库。其命令格式如同推送分支，运行 <code>git push origin [tagname]</code> 即可：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git push origin v2.1</span></span><br><span class="line"></span><br><span class="line">Enumerating objects: 21, done.</span><br><span class="line">Counting objects: 100% (21/21), done.</span><br><span class="line">Delta compression using up to 6 threads</span><br><span class="line">Compressing objects: 100% (9/9), done.</span><br><span class="line">Writing objects: 100% (19/19), 2.03 KiB | 414.00 KiB/s, done.</span><br><span class="line">Total 19 (delta 1), reused 0 (delta 0)</span><br><span class="line">remote: Resolving deltas: 100% (1/1), done.</span><br><span class="line">To github.com:JonSnows/git-test.git</span><br><span class="line"> * [new tag]         v2.1 -&gt; v2.1</span><br></pre></td></tr></table></figure>

<p>回到 Github 发现：</p>
<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/1570188057429.png" alt="1570188057429"></p>
<p>如果要一次推送所有本地新增的标签上去，可以使用 <code>--tags</code> 选项：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git push origin --tags</span></span><br><span class="line"></span><br><span class="line">Enumerating objects: 2, done.</span><br><span class="line">Counting objects: 100% (2/2), done.</span><br><span class="line">Delta compression using up to 6 threads</span><br><span class="line">Compressing objects: 100% (2/2), done.</span><br><span class="line">Writing objects: 100% (2/2), 305 bytes | 305.00 KiB/s, done.</span><br><span class="line">Total 2 (delta 0), reused 0 (delta 0)</span><br><span class="line">To github.com:JonSnows/git-test.git</span><br><span class="line"> * [new tag]         v1.0-lw -&gt; v1.0-lw</span><br><span class="line"> * [new tag]         v2.0 -&gt; v2.0</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">现在，其他人克隆共享仓库或拉取数据同步后，也会看到这些标签。</span></span><br></pre></td></tr></table></figure>

<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/1570188295589.png" alt="1570188295589"></p>
<h1 id="Git-远程仓库-Github"><a href="#Git-远程仓库-Github" class="headerlink" title="Git 远程仓库(Github)"></a>Git 远程仓库(Github)</h1><p>Git 并不像 SVN 那样有个中心服务器。</p>
<p>目前我们使用到的 Git 命令都是在本地执行，如果你想通过 Git 分享你的代码或者与其他开发人员合作。 你就需要将数据放到一台其他开发人员能够连接的服务器上。</p>
<h2 id="服务器上的-Git-协议"><a href="#服务器上的-Git-协议" class="headerlink" title="服务器上的 Git - 协议"></a>服务器上的 Git - 协议</h2><p> <a target="_blank" rel="noopener" href="https://git-scm.com/book/zh/v1/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%9A%84-Git-%E5%8D%8F%E8%AE%AE">Git传输协议</a> </p>
<h2 id="配置SSH密钥"><a href="#配置SSH密钥" class="headerlink" title="配置SSH密钥"></a>配置SSH密钥</h2><p> <a target="_blank" rel="noopener" href="https://git-scm.com/book/zh/v2/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%9A%84-Git-%E5%8D%8F%E8%AE%AE">Git传输协议</a> 有很多，要使用 SSH 协议就需要配置 SSH Key； 也可以使用 HTTP 协议的用户名／密码的基础授权，免去设置 SSH 公钥 。</p>
<h3 id="单个Git帐号的配置"><a href="#单个Git帐号的配置" class="headerlink" title="单个Git帐号的配置"></a>单个Git帐号的配置</h3><p>使用以下命令生成 SSH Key：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">&quot;youremail@example.com&quot;</span></span><br><span class="line"></span><br><span class="line">$ ssh-keygen -t rsa -f filename</span><br><span class="line"></span><br><span class="line"><span class="comment"># 更多选项参考 https://man.linuxde.net/ssh-keygen</span></span><br><span class="line">语法</span><br><span class="line">	ssh-keygen(选项)</span><br><span class="line">选项</span><br><span class="line">	-b：指定密钥长度；</span><br><span class="line">	-e：读取openssh的私钥或者公钥文件；</span><br><span class="line">	-C：添加注释；</span><br><span class="line">	-f：指定用来保存密钥的文件名；</span><br><span class="line">	-i：读取未加密的ssh-v2兼容的私钥/公钥文件，然后在标准输出设备上显示openssh兼容的私钥/公钥；</span><br><span class="line">	-l：显示公钥文件的指纹数据；</span><br><span class="line">	-N：提供一个新密语；</span><br><span class="line">	-P：提供（旧）密语；</span><br><span class="line">	-q：静默模式；</span><br><span class="line">	-t：指定要创建的密钥类型。</span><br></pre></td></tr></table></figure>

<p>后面的 <strong><a href="mailto:&#x79;&#x6f;&#x75;&#114;&#x5f;&#x65;&#109;&#x61;&#x69;&#108;&#x40;&#x79;&#111;&#x75;&#x72;&#101;&#109;&#97;&#x69;&#x6c;&#46;&#x63;&#111;&#109;">your_email@youremail.com</a></strong> 改为你在 Github 上注册的邮箱，之后会要求确认路径和输入密码，我们这使用默认的一路回车就行。成功的话会在 ~&#x2F; 下生成 .ssh 文件夹，进去，打开 <strong>id_rsa.pub</strong>，复制里面的 <strong>key</strong>。</p>
<p>回到 github 上，进入 Account &#x3D;&gt; Settings（账户配置）。</p>
<p>左边选择 <strong>SSH and GPG keys</strong>，然后点击 <strong>New SSH key</strong> 按钮，title 设置标题（随便填），粘贴刚生成的 key。</p>
<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/1570087237329.png" alt="1570087237329"></p>
<p>为了验证是否成功，在 git bash 下输入以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -T git@github.com</span><br><span class="line">Hi Jon-Snows! You<span class="string">&#x27;ve successfully authenticated, but GitHub does not provide shell access. #说明已经连接成功</span></span><br></pre></td></tr></table></figure>

<p>如果是第一次会提示是否continue，输入yes就会看到以上输出，这就表示已成功连上github。</p>
<p><font color="red">若已经拥有密钥对，就无需重新生成了。只需将私钥放到 <code>~/.ssh</code> 目录，文件名必须是 <code>id_rsa</code> ，且无扩展名，并在 github 或 gitlab 个人设置里配置 ssh key 即可。</font> </p>
<h3 id="多个Git帐号的配置"><a href="#多个Git帐号的配置" class="headerlink" title="多个Git帐号的配置"></a>多个Git帐号的配置</h3><p>推荐链接：</p>
<p> <a target="_blank" rel="noopener" href="https://deepzz.com/post/how-to-setup-ssh-config.html">SSH Config 那些你所知道和不知道的事</a> </p>
<p> <a target="_blank" rel="noopener" href="https://jingwei.link/2018/12/15/ssh-config-multi-app-manager.html">SSH的config配置之多账号简单管理</a> </p>
<p> <a target="_blank" rel="noopener" href="https://docs.github.com/cn/github/authenticating-to-github/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent">生成新 SSH 密钥并添加到 ssh-agent</a> </p>
<p> <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Ssh-agent">ssh-agent - 维基百科</a> </p>
<p>同时使用多个 <code>Git</code> 帐号，比如 <code>Github</code>、<code>OSChina</code>、<code>Gitlib</code> 等。</p>
<p>新建一个 SSH 客户端配置文件 <code>~/.ssh/config</code>，配置多账户规范：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Host github_wan                        # 别名（推荐直接使用HostName），后面配置git remote地址有用</span><br><span class="line">    HostName github.com                # 要连接的服务器，与别名相同时可忽略。</span><br><span class="line">    Port 22</span><br><span class="line">    IdentityFile ~/.ssh/id_rsa         # 私钥文件，也可以是相对路径</span><br><span class="line"></span><br><span class="line">Host github_wan2</span><br><span class="line">    HostName github.com</span><br><span class="line">    Port 22</span><br><span class="line">    IdentityFile ~/.ssh/id_rsa2</span><br><span class="line"></span><br><span class="line">Host gitlab_lan</span><br><span class="line">    HostName 192.168.3.234</span><br><span class="line">    Port 2224</span><br><span class="line">    IdentityFile ~/.ssh/id_rsa_lan</span><br></pre></td></tr></table></figure>



<p>使用 ssh 的 <strong>ssh-add</strong> 命令将密钥添加到 <strong>ssh-agent</strong> 的高速缓存中，以缓存私钥的密码。这种方式让你只需要解锁一次密钥就可以重复地使用它，这样在会话中就不需要再次输入密钥密码了 。同理 <strong>gpg-agent</strong>。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Windows PowerShell</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ssh-agent.exe <span class="comment"># 启动ssh-agent服务，服务显示名称未 OpenSSH Authentication Agent，系统默认禁用</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ssh-add ~/.ssh/id_rsa <span class="comment"># A账户的私钥</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ssh-add ~/.ssh/id_rsa2 <span class="comment"># B账户的私钥</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Linux</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ssh-agent bash</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ssh-add ~/.ssh/id_rsa</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ssh-add ~/.ssh/id_rsa2</span></span><br></pre></td></tr></table></figure>

<p>添加完后，可以<font color="red">使用 <code>ssh-add</code> 查看密钥列表</font>。</p>
<p>配置远程库地址：打开项目下的 <code>.git\config</code> 文件并修改 remote url 。在配置 ssh 时，为每个 Hostname 配置了一个 host 的别名，用别名来代替 Hostname：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[core]</span><br><span class="line">	repositoryformatversion = 0</span><br><span class="line">	filemode = false</span><br><span class="line">	bare = false</span><br><span class="line">	logallrefupdates = true</span><br><span class="line">	symlinks = false</span><br><span class="line">	ignorecase = true</span><br><span class="line">[remote &quot;gitlab&quot;]</span><br><span class="line">	url = ssh://git@gitlab_lan/organization-xy/berserker.git</span><br><span class="line">	fetch = +refs/heads/*:refs/remotes/gitlab/*</span><br><span class="line">[remote &quot;github&quot;]</span><br><span class="line">	url = git@github_wan:hellozhaolq/test.git</span><br><span class="line">	fetch = +refs/heads/*:refs/remotes/github/*</span><br></pre></td></tr></table></figure>

<p>接下来就可以 push 、 pull 了。</p>
<h2 id="配置用户名和邮箱-1"><a href="#配置用户名和邮箱-1" class="headerlink" title="配置用户名和邮箱"></a>配置用户名和邮箱</h2><p>Git 为每一次提交都记录提交者的名字和电子邮箱地址，所以 commit 前需要配置用户名和邮箱地址。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git config --<span class="built_in">local</span> user.name <span class="string">&#x27;JonSnows&#x27;</span></span><br><span class="line">git config --<span class="built_in">local</span> user.email JonSnows@qq.com</span><br><span class="line"></span><br><span class="line">git config --global user.name <span class="string">&#x27;JonSnows&#x27;</span></span><br><span class="line">git config --global user.email JonSnows@qq.com</span><br><span class="line"></span><br><span class="line">git config --system user.name <span class="string">&#x27;JonSnows&#x27;</span></span><br><span class="line">git config --system user.email JonSnows@qq.com</span><br></pre></td></tr></table></figure>

<h2 id="创建仓库"><a href="#创建仓库" class="headerlink" title="创建仓库"></a>创建仓库</h2><p>然后我们在 github 上创建一个新的仓库</p>
<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/1570087618207.png" alt="1570087618207"></p>
<p>创建成功后，显示信息如下：</p>
<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/1570087727377.png" alt="1570087727377"></p>
<p>以上信息告诉我们，可以在命令行上创建新的存储库、可以从命令行推送现有存储库、可以从另一个存储库导入代码。</p>
<h2 id="检出仓库"><a href="#检出仓库" class="headerlink" title="检出仓库"></a>检出仓库</h2><p>执行如下命令以创建一个本地仓库的克隆版本：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> [url]</span><br><span class="line"></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/username/RepositoryName.git</span><br><span class="line"></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/username/RepositoryName.git CustomName</span><br></pre></td></tr></table></figure>

<p>具体参照 <code>git clone</code> 命令。</p>
<h2 id="添加远程库"><a href="#添加远程库" class="headerlink" title="添加远程库"></a>添加远程库</h2><p>要添加一个新的远程仓库，可以指定一个<font color="red">别名</font>，以便将来引用，命令格式如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git remote add [<span class="built_in">alias</span>] [url]</span><br><span class="line">git remote add origin git@github.com:Jon-Snows/git-test.git</span><br><span class="line"></span><br><span class="line">git remote remove origin <span class="comment"># 删除别名</span></span><br></pre></td></tr></table></figure>

<p><font color="red">远程仓库必须在 Github 中建立，如果添加的远程仓库不存在，push 时会提示如下错误：</font></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git remote add origin2 git@github.com:Jon-Snows/git-test2.git		<span class="comment">#此仓库链接不存在</span></span><br><span class="line">$ git push origin2 master</span><br><span class="line">ERROR: Repository not found.</span><br><span class="line">fatal: Could not <span class="built_in">read</span> from remote repository.</span><br><span class="line"></span><br><span class="line">Please make sure you have the correct access rights</span><br><span class="line">and the repository exists.</span><br></pre></td></tr></table></figure>

<p>在本地仓库下运行命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">mkdir</span> git-test                     <span class="comment"># 创建测试目录</span></span><br><span class="line">$ <span class="built_in">cd</span> git-test/                       <span class="comment"># 进入测试目录</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">&quot;# Git 教程 测试&quot;</span> &gt;&gt; README.md <span class="comment"># 创建 README.md 文件并写入内容</span></span><br><span class="line">$ <span class="built_in">ls</span>                                 <span class="comment"># 查看目录下的文件</span></span><br><span class="line">README.md</span><br><span class="line">$ git init                                  <span class="comment"># 初始化</span></span><br><span class="line">$ git add README.md                         <span class="comment"># 添加文件</span></span><br><span class="line">$ git commit -m <span class="string">&quot;添加 README.md 文件&quot;</span>        <span class="comment"># 提交并备注信息</span></span><br><span class="line">[master (root-commit) 0205aab] 添加 README.md 文件</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 README.md</span><br><span class="line"></span><br><span class="line"><span class="comment"># 提交到 Github</span></span><br><span class="line">$ git remote add origin git@github.com:Jon-Snows/git-test.git</span><br><span class="line">$ git push -u origin master</span><br></pre></td></tr></table></figure>

<p>接下返回 Github 创建的仓库，就可以看到文件已上传到 Github上：</p>
<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/1570088832319.png" alt="1570088832319"></p>
<h2 id="查看远程库"><a href="#查看远程库" class="headerlink" title="查看远程库"></a>查看远程库</h2><p><strong>查看本地添加的全部远程库</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git remote</span><br><span class="line">origin</span><br><span class="line"></span><br><span class="line"><span class="comment"># 执行时加上 -v 参数，你还可以看到每个别名的实际链接地址。</span></span><br><span class="line">$ git remote -v</span><br><span class="line">origin  git@github.com:Jon-Snows/git-test.git (fetch)</span><br><span class="line">origin  git@github.com:Jon-Snows/git-test.git (push)</span><br></pre></td></tr></table></figure>

<p><strong>查看远程仓库</strong></p>
<p>如果想要查看某一个远程仓库的更多信息，可以使用 <code>git remote show [remote-name]</code> 命令。 如果想以一个特定的缩写名运行这个命令，例如 <code>origin</code>，会得到像下面类似的信息：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Administrator@JonSnows MINGW64 /d/git/git-test (testing)	# testing 是当前所在分支</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git remote show origin</span></span><br><span class="line">* remote origin</span><br><span class="line">  Fetch URL: git@github.com:JonSnows/git-test.git</span><br><span class="line">  Push  URL: git@github.com:JonSnows/git-test.git</span><br><span class="line">  HEAD branch: master</span><br><span class="line">  Remote branches:</span><br><span class="line">    master   tracked</span><br><span class="line">    testing  tracked</span><br><span class="line">    testing2 tracked</span><br><span class="line">  Local branch configured for &#x27;git pull&#x27;:</span><br><span class="line">    master merges with remote master</span><br><span class="line">  Local refs configured for &#x27;git push&#x27;:</span><br><span class="line">    master  pushes to master  (up to date)</span><br><span class="line">    testing pushes to testing (up to date)</span><br></pre></td></tr></table></figure>

<p>这些信息非常有用，它告诉我们：</p>
<ol>
<li>远程仓库的 URL。</li>
<li>远程仓库的全部 branch。</li>
<li>如果运行 <code>git pull</code>，就会抓取所有的远程引用，然后将远程 <code>master</code> 分支合并到本地 <code>master</code> 分支。</li>
<li>如果在特定的分支上执行 <code>git push</code> 会自动地推送到哪一个远程分支。</li>
<li>哪些远程分支不在本地，这里是 testing2 分支。</li>
</ol>
<h2 id="更新并合并"><a href="#更新并合并" class="headerlink" title="更新并合并"></a>更新并合并</h2><p>提取远程仓库的两种方式：一、git fetch + git merge。二、git pull。</p>
<h3 id="git-fetch-git-merge"><a href="#git-fetch-git-merge" class="headerlink" title="git fetch + git merge"></a>git fetch + git merge</h3><p>Git 有两个命令用来提取远程仓库的更新。</p>
<p>1、从远程仓库<strong>抓取</strong>新推送的所有工作，然后将数据<strong>拉取</strong>到本地仓库， 它并不会自动合并或修改当前的工作。</p>
<p> <a target="_blank" rel="noopener" href="https://www.yiibai.com/git/git_fetch.html">git fetch命令</a> </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git fetch [远程主机<span class="built_in">alias</span>] <span class="comment"># 要更新所有分支，命令可以简写为：git fetch</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 默认情况下，git fetch取回所有分支的更新。如果只想取回特定分支的更新，可以指定分支名,如下所示 -</span></span><br><span class="line">git fetch &lt;远程主机<span class="built_in">alias</span>&gt; &lt;分支名&gt;</span><br><span class="line">git fetch origin master</span><br></pre></td></tr></table></figure>

<p>该命令执行完后需要执行 <code>git merge</code> 合并远程分支到当前分支。</p>
<p>2、从远端仓库提取数据并尝试合并远程分支到当前分支：</p>
<p>链接： <a target="_blank" rel="noopener" href="https://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%88%86%E6%94%AF%E7%9A%84%E6%96%B0%E5%BB%BA%E4%B8%8E%E5%90%88%E5%B9%B6">Git 分支 - 分支的新建与合并</a> </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge [alias]/[branch]</span><br></pre></td></tr></table></figure>

<p>该命令就是在执行 git fetch 之后紧接着执行 git merge 合并远程分支到当前所在的任意分支。</p>
<p>如果 <code>git merge</code> 操作没有需要解决的分歧，就叫做 “<font color="red"><strong>快进（fast-forward）</strong></font>”。即当试图合并两个分支时， 如果顺着一个分支走下去能够到达另一个分支，那么 Git 在合并两者的时候， 只会简单的将指针向前推进（指针右移）。</p>
<p><strong>测试：</strong></p>
<p>接下来我们在 Github 上点击” README.md” 并在线修改它:</p>
<p><img src="/article/2019/10/Git%E6%95%99%E7%A8%8B/1570090003755.png" alt="1570090003755"></p>
<p>然后在本地更新修改。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git fetch origin</span><br><span class="line">remote: Enumerating objects: 5, <span class="keyword">done</span>.</span><br><span class="line">remote: Counting objects: 100% (5/5), <span class="keyword">done</span>.</span><br><span class="line">remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0</span><br><span class="line">Unpacking objects: 100% (3/3), <span class="keyword">done</span>.</span><br><span class="line">From github.com:Jon-Snows/git-test</span><br><span class="line">   a531b58..560b6f6  master     -&gt; origin/master</span><br></pre></td></tr></table></figure>

<p>以上信息 <code>a531b58..560b6f6  master     -&gt; origin/master</code> 说明 master 分支已被更新，我们可以使用以下命令将更新同步到本地：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git merge origin/master</span><br><span class="line">Updating a531b58..560b6f6</span><br><span class="line">Fast-forward</span><br><span class="line"> README.md | 1 +</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br></pre></td></tr></table></figure>

<p>查看 README.md 文件内容：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> README.md</span><br><span class="line"><span class="comment"># Git 教程 测试</span></span><br><span class="line">第一次修改内容</span><br></pre></td></tr></table></figure>

<h3 id="Git-分支-变基-Merge-与-Rebase"><a href="#Git-分支-变基-Merge-与-Rebase" class="headerlink" title="Git 分支 - 变基 (Merge 与 Rebase)"></a>Git 分支 - 变基 (Merge 与 Rebase)</h3><p>链接： <a target="_blank" rel="noopener" href="https://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%8F%98%E5%9F%BA">Git 分支 - 变基</a> 、 <a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzkwNzI0MzQ2NQ==&mid=2247488906&idx=1&sn=964d6b8647fbeda12c0500911511eb58">只会用 git pull ？有时候你可以尝试更优雅的处理方式</a> </p>
<p>变基：改变基础。将复杂难懂、眼花缭乱的多分支提交历史，整合为一条直线，变基使得提交历史更加整洁。</p>
<p>使用前先了解： <a target="_blank" rel="noopener" href="https://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%8F%98%E5%9F%BA">变基的风险</a> 、 <a target="_blank" rel="noopener" href="https://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%8F%98%E5%9F%BA">用变基解决变基</a> 、 <a target="_blank" rel="noopener" href="https://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%8F%98%E5%9F%BA">变基 vs. 合并</a> </p>
<p>如果习惯使用 <code>git pull</code> ，同时又希望默认使用选项 <code>--rebase</code>，请参考以下配置：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">更改pull.rebase的默认配置</span></span><br><span class="line">git config --global pull.rebase false  # merge (the default strategy)</span><br><span class="line">git config --global pull.rebase true   # rebase</span><br><span class="line">git config --global pull.ff only       # fast-forward only 仅快进</span><br></pre></td></tr></table></figure>

<h3 id="git-pull"><a href="#git-pull" class="headerlink" title="git pull"></a>git pull</h3><p>链接： <a target="_blank" rel="noopener" href="https://www.yiibai.com/git/git_pull.html">git pull命令</a> </p>
<p>从服务器上抓取全部数据并自动尝试合并<strong>远程默认分支</strong>到<strong>当前分支</strong>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git pull = git fetch + git merge</span></span><br><span class="line"></span><br><span class="line">$ git pull</span><br><span class="line">remote: Enumerating objects: 5, <span class="keyword">done</span>.</span><br><span class="line">remote: Counting objects: 100% (5/5), <span class="keyword">done</span>.</span><br><span class="line">remote: Compressing objects: 100% (2/2), <span class="keyword">done</span>.</span><br><span class="line">remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0</span><br><span class="line">Unpacking objects: 100% (3/3), <span class="keyword">done</span>.</span><br><span class="line">From github.com:Jon-Snows/git-test</span><br><span class="line">   941cd6c..65331da  master     -&gt; origin/master</span><br><span class="line">Updating 941cd6c..65331da</span><br><span class="line">Fast-forward</span><br><span class="line"> test.txt | 3 ++-</span><br><span class="line"> 1 file changed, 2 insertions(+), 1 deletion(-)</span><br></pre></td></tr></table></figure>

<p>要合并其他分支到你的当前分支（例如 master），执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge (branchname)</span><br></pre></td></tr></table></figure>

<p>以上两种情况下，git 都会尝试去自动合并改动。遗憾的是，这可能并非每次都成功，并可能出现冲突（conflicts）。 这时候就需要修改这些文件来手动合并这些冲突（conflicts）。改完之后，需要执行如下命令以将它们标记为合并成功：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add &lt;file&gt;</span><br></pre></td></tr></table></figure>

<p>在合并分支之前，可以使用 <code>git diff</code> 命令预览差异：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将target_branch分支合并到source_branch分支前预览差异</span></span><br><span class="line">git diff &lt;source_branch&gt; &lt;target_branch&gt;</span><br></pre></td></tr></table></figure>

<h4 id="补充："><a href="#补充：" class="headerlink" title="补充："></a>补充：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git pull [options] [&lt;repository&gt; [&lt;refspec&gt;…]]</span></span><br><span class="line"><span class="comment"># git pull &lt;远程主机名&gt; &lt;远程分支名&gt;:&lt;本地分支名&gt;</span></span><br><span class="line"></span><br><span class="line">git pull origin master:master <span class="comment"># 取回origin主机的master分支，与本地的master分支合并。</span></span><br><span class="line">git pull origin master        <span class="comment"># 如果远程分支(master)要与当前分支合并，则冒号后面的部分可以省略。</span></span><br><span class="line">git pull origin               <span class="comment"># 如果当前分支与远程分支存在追踪关系，git pull就可以省略远程分支名。</span></span><br><span class="line">git pull                      <span class="comment"># 如果当前分支只有一个追踪分支，连远程主机名都可以省略。该命令表示当前分支自动与唯一一个追踪分支进行合并。</span></span><br><span class="line"></span><br><span class="line">git pull --rebase &lt;远程主机名&gt; &lt;远程分支名&gt;:&lt;本地分支名&gt; <span class="comment"># 如果合并需要采用rebase模式，可以使用–rebase选项。</span></span><br></pre></td></tr></table></figure>

<h2 id="还原-回退-撤销"><a href="#还原-回退-撤销" class="headerlink" title="还原&#x2F;回退&#x2F;撤销"></a>还原&#x2F;回退&#x2F;撤销</h2><h3 id="工作区"><a href="#工作区" class="headerlink" title="工作区"></a>工作区</h3><p>假如操作失误（当然，这最好永远不要发生），可以使用如下命令还原：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -- &lt;file&gt;</span><br></pre></td></tr></table></figure>

<p>命令 <code>git checkout -- readme.txt</code> 意思就是，把 <code>readme.txt</code> 文件在工作区的修改全部撤销，这里有两种情况：</p>
<p>1、 <code>readme.txt</code> 自修改后还没有被放到暂存区，现在，撤销修改就回到和版本库一模一样的状态，即使用 HEAD 中的最新内容替换掉工作区的文件内容；</p>
<p>2、 <code>readme.txt</code> 已经添加到暂存区后，又做了修改，现在，撤销修改就回到添加到暂存区后的状态。</p>
<p><font color="red">此命令无法还原暂存区的改动，且对新文件无效。</font> </p>
<p>取消缓存使用 <code>git reset HEAD</code>，见上文。</p>
<h3 id="本地"><a href="#本地" class="headerlink" title="本地"></a>本地</h3><p>假如想<font color="red">丢弃在本地的所有改动与提交（工作区、暂存区、版本库）</font>，可以到服务器上获取最新的版本历史，并将本地主分支指向它：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 丢弃所有本地改动：工作区、暂存区、版本库 这些都是本地操作</span></span><br><span class="line">git fetch origin</span><br><span class="line">git reset --hard origin/master</span><br><span class="line">git reset --hard &lt;版本号 commit <span class="built_in">id</span>&gt;</span><br></pre></td></tr></table></figure>

<p><code>git reset –-soft</code>：回退到某个版本，只取消了commit的信息，代码更改并没有取消，不会恢复到index file一级。如果还要提交，直接commit即可；<br><code>git reset -–hard</code>：彻底回退到某个版本，本地的源码也会变为上一个版本的内容，撤销的commit中所包含的更改被冲掉；</p>
<h2 id="推送到远程仓库"><a href="#推送到远程仓库" class="headerlink" title="推送到远程仓库"></a>推送到远程仓库</h2><p>链接： <a target="_blank" rel="noopener" href="https://www.yiibai.com/git/git_push.html">git push命令</a> 、 <a target="_blank" rel="noopener" href="https://www.jianshu.com/p/b7ba3d954eb0">git push.default 简析</a> </p>
<p>默认配置项</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2.0以前的默认配置项</span></span><br><span class="line">git config --global push.default matching</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2.0中的默认配置项</span></span><br><span class="line">git config --global push.default simple</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改默认配置</span></span><br><span class="line">git config --global push.default nothing # 直接push会出错，需要显式的指出推送的远程分支，例如:git push origin master</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看配置</span></span><br><span class="line">git config --list</span><br><span class="line">git config --system -l</span><br></pre></td></tr></table></figure>

<p>推送新分支与数据到某个远端仓库命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push [<span class="built_in">alias</span>] [branch]</span><br></pre></td></tr></table></figure>

<p>以上命令将 [branch] 分支推送成为 [alias] 远程仓库上的 [branch] 分支，实例如下。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">touch</span> test.txt      <span class="comment"># 添加文件</span></span><br><span class="line">$ git add test.txt </span><br><span class="line">$ git commit -m <span class="string">&quot;提交添加的文件&quot;</span></span><br><span class="line">master 69e702d] 提交添加的文件</span><br><span class="line"> 1 file changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line"> create mode 100644 runoob-test.txt</span><br><span class="line"></span><br><span class="line">$ git push origin master    <span class="comment"># 推送到 Github</span></span><br></pre></td></tr></table></figure>

<p>重新回到 Github 仓库，可以看到文件已经推送上来了：</p>
<h3 id="补充：-1"><a href="#补充：-1" class="headerlink" title="补充："></a>补充：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git push &lt;远程主机名&gt; &lt;本地分支名&gt;:&lt;远程分支名&gt;</span></span><br><span class="line"></span><br><span class="line">git push origin master          <span class="comment"># 将本地的master分支推送到origin主机的master分支。如果master不存在，则会被新建。</span></span><br><span class="line"></span><br><span class="line">git push origin :master         <span class="comment"># 如果省略本地分支名，则表示删除指定的远程分支，因为这等同于推送一个空的本地分支到远程分支。</span></span><br><span class="line"><span class="comment"># 等同于</span></span><br><span class="line">git push origin --delete master</span><br><span class="line"></span><br><span class="line">git push                        <span class="comment"># 如果当前分支只有一个追踪分支，那么主机名都可以省略。</span></span><br><span class="line">git push --all origin           <span class="comment"># 将本地的所有分支都推送到远程主机</span></span><br><span class="line">git push origin --tags          <span class="comment"># git push不会推送标签(tag)，除非使用–tags选项。</span></span><br><span class="line"></span><br><span class="line">git push origin HEAD            <span class="comment"># 将当前分支推送到远程的同名的简单方法</span></span><br><span class="line">git push origin HEAD:master     <span class="comment"># 将当前分支推送到源存储库中的远程引用匹配主机。 这种形式方便推送当前分支，而不考虑其本地名称。</span></span><br><span class="line"></span><br><span class="line">git push origin lbranch-1:refs/rbranch-1    <span class="comment"># 推送本地分支lbranch-1到新的远程分支rbranch-1：</span></span><br><span class="line">git push origin lbranch-2:refs/rbranch-1    <span class="comment"># 推送lbranch-2到已有的rbranch-1，用于补充rbranch-1：</span></span><br><span class="line">git push -f origin lbranch-3:refs/rbranch-1 <span class="comment"># 用本地分支lbranch-3覆盖远程分支rbranch-1</span></span><br><span class="line"></span><br><span class="line">git push origin HEAD:refs/heads/master <span class="comment"># </span></span><br><span class="line">git push origin HEAD:refs/for/master   <span class="comment"># refs/for :意义在于我们提交代码到服务器之后是需要经过 code review（评审）之后才能进行merge</span></span><br></pre></td></tr></table></figure>

<h2 id="删除远程仓库"><a href="#删除远程仓库" class="headerlink" title="删除远程仓库"></a>删除远程仓库</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote <span class="built_in">rm</span> [<span class="built_in">alias</span>]</span><br></pre></td></tr></table></figure>

<p>示例</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ git remote -v</span><br><span class="line">origin  git@github.com:Jon-Snows/git-test.git (fetch)</span><br><span class="line">origin  git@github.com:Jon-Snows/git-test.git (push)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加仓库 origin2</span></span><br><span class="line">$ git remote add origin2 git@github.com:Jon-Snows/git-test.git</span><br><span class="line"></span><br><span class="line">$ git remote -v</span><br><span class="line">origin  git@github.com:Jon-Snows/git-test.git (fetch)</span><br><span class="line">origin  git@github.com:Jon-Snows/git-test.git (push)</span><br><span class="line">origin2 git@github.com:Jon-Snows/git-test.git (fetch)</span><br><span class="line">origin2 git@github.com:Jon-Snows/git-test.git (push)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除仓库 origin2</span></span><br><span class="line">$ git remote <span class="built_in">rm</span> origin2</span><br><span class="line">$ git remote -v</span><br><span class="line">origin  git@github.com:Jon-Snows/git-test.git (fetch)</span><br><span class="line">origin  git@github.com:Jon-Snows/git-test.git (push)</span><br></pre></td></tr></table></figure>

<h1 id="服务器上的-Git"><a href="#服务器上的-Git" class="headerlink" title="服务器上的 Git"></a>服务器上的 Git</h1><p>见官网，Git传输的四种协议、Git服务器搭建、生成SSH秘钥、配置服务器、Git守护进程等</p>
<h1 id="在其它环境中使用-Git"><a href="#在其它环境中使用-Git" class="headerlink" title="在其它环境中使用 Git"></a>在其它环境中使用 Git</h1><p>见官网，图形界面工具、各种开发工具中的 Git 。</p>
<p>网上还有很多图形界面工具。</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div>请我一杯咖啡吧！</div>
  <button>
    赞赏
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechatpay.png" alt="zhaolq 微信">
        <span>微信</span>
      </div>
      <div>
        <img src="/images/alipay.png" alt="zhaolq 支付宝">
        <span>支付宝</span>
      </div>

  </div>
</div>

          <div class="post-tags">
              <a href="/tags/Git/" rel="tag"># Git</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/article/2019/09/%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="prev" title="快速入门数据结构">
                  <i class="fa fa-angle-left"></i> 快速入门数据结构
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/article/2019/10/%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90/" rel="next" title="域名解析">
                  域名解析 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2019 – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">zhaolq</span>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</body>
</html>
